angular.module("myApp",["ngRoute","angularTrix","ui.tinymce","myApp.common","myApp.main","myApp.user"]).config(["$routeProvider","$locationProvider","$httpProvider",function(e,t,r){r.defaults.headers.get||(r.defaults.headers.get={}),r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r.defaults.headers.get["Cache-Control"]="no-cache",r.defaults.headers.get.Pragma="no-cache",e.when("/",{templateUrl:"template/testNgRoute-main.html",controller:"mainCtrl",resolve:{mainData:["testService",function(e){return e.getMain().then(function(e){return e.data}).catch(function(e){return e.data})}]}}).when("/user/:userId",{templateUrl:"template/testNgRoute-user.html",controller:"userCtrl",resolve:{userData:["testService",function(e){return e.getUser().then(function(e){return e.data})}]},reloadOnSearch:!1}).when("/tinymice",{templateUrl:"template/tinymice.html",controller:"tinymiceCtrl",reloadOnSearch:!1}).otherwise({redirectTo:"/"}),t.html5Mode(!1),t.hashPrefix(""),r.interceptors.push("httpInterceptor"),console.log("the angular app is start!")}]).run(["$rootScope","$templateCache",function(e,t){e.loading=!1,e.$on("$routeChangeStart",function(e,r,n){void 0!==n&&t.remove(n.templateUrl)}),e.$on("$routeUpdate",function(e,t,r){console.log(e),console.log(t),console.log(r)})}]),angular.element(document).ready(function(){angular.bootstrap(document,["myApp"])});
angular.module("myApp.common",[]),angular.module("myApp.main",["myApp.main.tinymice"]),angular.module("myApp.main.tinymice",["myApp.common","ui.tinymce"]),angular.module("myApp.user",["myApp.common"]);
angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(e,t,n,i,r,o,u){return o=o||{},o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(c,a,s,d){function f(e){e?(m(),v&&v.getBody().setAttribute("contenteditable",!1)):(m(),v&&!v.settings.readonly&&v.getDoc()&&v.getBody().setAttribute("contenteditable",!0))}function m(){v||(v=tinymce.get(s.id))}if(i.tinymce){var l,v,$=d[0],g=d[1]||null,y={debounce:!0},b=function(t){var n=t.getContent({format:y.format}).trim();n=r.trustAsHtml(n),$.$setViewValue(n),e.$$phase||c.$digest()},p=u.getUniqueId();s.$set("id",p),l={},angular.extend(l,c.$eval(s.uiTinymce));var h=function(e){var t;return function(e){n.cancel(t),t=n(function(){return function(e){e.isDirty()&&(e.save(),b(e))}(e)},400)}}(),U={setup:function(t){t.on("init",function(){$.$render(),$.$setPristine(),$.$setUntouched(),g&&g.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){if(!y.debounce)return t.save(),void b(t);h(t)}),t.on("blur",function(){a[0].blur(),$.$setTouched(),e.$$phase||c.$digest()}),t.on("remove",function(){a.remove()}),o.setup&&o.setup(t,{updateView:b}),l.setup&&l.setup(t,{updateView:b})},format:l.format||"html",selector:"#"+s.id};angular.extend(y,o,l,U),n(function(){y.baseURL&&(tinymce.baseURL=y.baseURL);var e=tinymce.init(y);e&&"function"==typeof e.then?e.then(function(){f(c.$eval(s.ngDisabled))}):f(c.$eval(s.ngDisabled))}),$.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),$.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),$.$render=function(){m();var e=$.$viewValue?r.getTrustedHtml($.$viewValue):"";v&&v.getDoc()&&(v.setContent(e),v.fire("change"))},s.$observe("disabled",f);var T=c.$on("$tinymce:refresh",function(e,n){var i=s.id;if(angular.isUndefined(n)||n===i){var r=a.parent(),o=a.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(t(o)(c)),T()}});c.$on("$destroy",function(){m(),v&&(v.remove(),v=null)})}}}}]).service("uiTinymceService",[function(){return new function(){var e=0;return{getUniqueId:function(){return"ui-tinymce-"+ ++e}}}}]);
angular.module("myApp.common").directive("myInputParse",function(){return{restrict:"EA",priority:-1,require:"?ngModel",link:function(e,r,t,n){n&&(console.log("myInputParse"),n.$parsers.push(function(e){var r=/^\d+\.?\d{0,2}$/,t=r.test(e),i=e.substring(0,e.length-1);return t?e:(n.$setViewValue(i),n.$render(),i)}))}}}).directive("companyEmailValidator",function(){var e=/^(?=.{1,254}$)(?=.{1,254}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;return{restrict:"EA",priority:-1,require:"?ngModel",link:function(r,t,n,i){i&&i.$validators.email&&(i.$validators.email=function(r,t){var n=r||t;return i.$isEmpty(n)||e.test(n)})}}}).directive("retainDecimal",function(){var e=/^\d+$/,r=/^\d+(\.)?\d{0,1}$/,t=/^\d+(\.)?\d{0,2}$/;return{restrict:"A",require:"?ngModel",link:function(n,i,a,s){s.$parsers.push(function(n){var i,u,l=a.retainDecimal,c=n.substring(0,n.length-1),o=n.charAt(n.length-1);switch(l){case"1":i=r.test(n),u=".0";break;case"2":i=t.test(n),u=".00";break;default:i=e.test(n),u=""}return i?"."==o?(s.$setViewValue(c+u),s.$render(),c+u):n:(s.$setViewValue(c),s.$render(),c)})}}});
angular.module("myApp.common").factory("httpInterceptor",["$sce","$rootScope","$timeout",function(n,e,t){var o,r;return{request:function(n){return o=(new Date).getTime(),e.loading=!0,n},response:function(n){return r=(new Date).getTime(),e.$evalAsync(function(){r-o>500?e.loading=!1:t(function(){e.loading=!1},500)}),n}}}]);
angular.module("myApp.common").factory("testService",["$http","$q",function(t,e){return{getMain:function(){return t.get("mock/testNgRoute-main.json")},getUser:function(){return t.get("mock/testNgRoute-user.json")},getRest:function(){return t.get("/restapi/login")}}}]);
angular.module("myApp.main").controller("mainCtrl",["$scope","$route","$routeParams","$location","mainData","$parse",function(a,t,n,e,m,l){a.pageName=m.pageName,a.myInputVal1="111",a.myInputVal2="",a.myInputVal3="",a.myInputVal4="",a.updateVal=function(){var t=l("'it is my test!the result is:' + myInputVal1");a.myInputValRes=t(a)}}]);
angular.module("myApp.main.tinymice").controller("tinymiceCtrl",["$scope","$route","$routeParams","$location","$sce",function(t,i,e,n,a){var l=this;t.setting={inline:!1,plugins:"advlist autolink lists link image charmap print preview anchor",readonly:"view"===t.operate,skin:"lightgray",theme:"modern",min_height:200,max_height:500},this.updateHtml=function(){l.tinymceHtml=a.trustAsHtml(l.tinymce)}}]);
angular.module("myApp.user").controller("userCtrl",["$scope","$route","$routeParams","$location","userData",function(e,a,r,o,u){e.pageName=u.pageName,e.userId=r.userId,e.foo="please input!"}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1vZHVsZS5qcyIsImRpcmVjdGl2ZS9hbmd1bGFyLXRpbnltY2UuanMiLCJkaXJlY3RpdmUvaW5wdXREaXJlLmpzIiwic2VydmljZS9pbnRlckNlcHRvclNlcnYuanMiLCJzZXJ2aWNlL3Rlc3RTZXJ2LmpzIiwiY29udHJvbGxlci9tYWluL21haW5DdHJsLmpzIiwiY29udHJvbGxlci9tYWluL3RpbnltaWNlQ3RybC5qcyIsImNvbnRyb2xsZXIvdXNlci91c2VyQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImRlZmF1bHRzIiwiaGVhZGVycyIsImdldCIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJlc29sdmUiLCJtYWluRGF0YSIsInRlc3RTZXJ2aWNlIiwiZ2V0TWFpbiIsInRoZW4iLCJyZXMiLCJ1c2VyRGF0YSIsImdldFVzZXIiLCJkYXRhIiwicmVsb2FkT25TZWFyY2giLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJoYXNoUHJlZml4IiwicnVuIiwiJHJvb3RTY29wZSIsImxvYWRpbmciLCIkb24iLCJldmVudCIsIm5leHQiLCJjdXJyZW50IiwiJHRlbXBsYXRlQ2FjaGUiLCJyZW1vdmUiLCJsb2ciLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJyZWFkeSIsInZhbHVlIiwiZGlyZWN0aXZlIiwidWlUaW55bWNlQ29uZmlnIiwiYmFzZVVybCIsInRpbnltY2UiLCJiYXNlVVJMIiwiZGlzYWJsZWQiLCJlbnN1cmVJbnN0YW5jZSIsInRpbnlJbnN0YW5jZSIsInNldHRpbmdzIiwicmVhZG9ubHkiLCJnZXREb2MiLCJnZXRCb2R5Iiwic2V0QXR0cmlidXRlIiwiJHdpbmRvdyIsImV4cHJlc3Npb24iLCJuZ01vZGVsIiwiY3RybHMiLCJmb3JtIiwib3B0aW9ucyIsImRlYm91bmNlIiwidXBkYXRlVmlldyIsImVkaXRvciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwiZm9ybWF0IiwidHJpbSIsIiRzZXRWaWV3VmFsdWUiLCIkJHBoYXNlIiwic2NvcGUiLCIkZGlnZXN0IiwiZGVib3VuY2VkVXBkYXRlIiwiZGVib3VuY2VkVXBkYXRlRGVsYXkiLCJlZCIsImRlYm91bmNlZFVwZGF0ZVRpbWVyIiwiJHRpbWVvdXQiLCJzYXZlIiwiJHJlbmRlciIsIiRzZXRQcmlzdGluZSIsIm9uIiwic2V0dXAiLCJtYXliZUluaXRQcm9taXNlIiwiaW5pdCIsInRvZ2dsZURpc2FibGUiLCIkZXZhbCIsImF0dHJzIiwibmdEaXNhYmxlZCIsInZpZXdWYWx1ZSIsIiR2aWV3VmFsdWUiLCIkc2NlIiwiZ2V0VHJ1c3RlZEh0bWwiLCJzZXRDb250ZW50IiwiZmlyZSIsImlzVW5kZWZpbmVkIiwiaWQiLCJlaWQiLCJwYXJlbnRFbGVtZW50IiwicGFyZW50IiwiY2xvbmVkRWxlbWVudCIsInJlbW92ZUF0dHIiLCJhcHBlbmQiLCIkY29tcGlsZSIsInVuYmluZEV2ZW50TGlzdGVuZXIiLCJnZXRVbmlxdWVJZCIsIklEX0FUVFIiLCJyZXN0cmljdCIsInByaW9yaXR5IiwicmVxdWlyZSIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbSIsIiRhdHRycyIsIm5nTW9kZWxDdHJsIiwiY29uc29sZSIsIiRwYXJzZXJzIiwicHVzaCIsIlZBTElEX1JFR0VYUCIsImlzVmFsaWQiLCJ0ZXN0IiwibGFzdFZhbCIsInN1YnN0cmluZyIsImxlbmd0aCIsIiR2YWxpZGF0b3JzIiwiZW1haWwiLCJtb2RlbFZhbHVlIiwiJGlzRW1wdHkiLCJFTUFJTF9SRUdFWFAiLCJzdHIiLCJyZXRhaW5EZWNpbWFsIiwibGFzdENoYXIiLCJjaGFyQXQiLCJST1VORFVQXzFfUkVHRVhQIiwiUk9VTkRVUF8yX1JFR0VYUCIsIlJPVU5EVVBfMF9SRUdFWFAiLCJmYWN0b3J5Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInJlcXVlc3QiLCJyZXEiLCJyZXNwb25zZSIsIkRhdGUiLCJnZXRUaW1lIiwiJGV2YWxBc3luYyIsIiRodHRwIiwiJHEiLCJteUlucHV0VmFsMSIsIm15SW5wdXRWYWwyIiwibXlJbnB1dFZhbDMiLCJteUlucHV0VmFsNCIsIiRyb3V0ZSIsIiRyb3V0ZVBhcmFtcyIsIiRsb2NhdGlvbiIsImN0cmwiLCJ0aGlzIiwic2V0dGluZyIsImlubGluZSIsInBsdWdpbnMiLCJza2luIiwidGhlbWUiLCJtYXhfaGVpZ2h0Il0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBUUMsT0FBTyxTQUNkLFVBQ0EsY0FDQSxhQUNBLGVBQ0EsYUFDQSxlQUNFQyx5QkFFRiw2RUFLQUMsRUFBY0MsU0FBU0MsUUFBUUMsMEhBSy9CSCxFQUFBQyxTQUFBQyxRQUFBQyxJQUFBLE9BQUEsV0FFQ0MsRUFBWUMsS0FBQSxLQUNaQyxZQUFXLGlDQUNYQyxXQUFRLFdBQ1BDLFNBQ0NDLFVBQ0MsY0FDRSxTQUFNQyxHQUNELE1BQUlBLEdBQUFDLFVBQUFDLEtBQUEsU0FBQUMsNEpBWVRDLFVBQ0wsY0FDQSxTQUFXSixHQUNILE1BQUFBLEdBQUFLLFVBQUFILEtBQUEsU0FBQUMsR0FDUCxNQUFBQSxHQUFBRyw4QkFNRFgsS0FBQSxrREFFQUUsV0FBSyxlQUNMVSxnQkFBWSxJQUNaQyxXQUFXQyxXQUFBLHNCQUdYQyxFQUFVQyxXQUFBLHVGQUtYQyxLQUNBLDRDQUdBQyxFQUFjQyxTQUFBLEVBQ2RELEVBQVlFLElBQUEsb0JBQUEsU0FBQUMsRUFBQUMsRUFBQUMsZUFFWkMsRUFBQUMsT0FBQUYsRUFBQXRCLGlCQUdXbUIsSUFBTyxlQUFhLFNBQVlDLEVBQUFDLEVBQUFDLFdBQ2hDRyxJQUFBTCw4Q0FNUE0sUUFBUUMsVUFBSUMsTUFBQTtBQy9FakJyQyxRQUFRQyxPQUFPLG1CQUNmRCxRQUFRQyxPQUFPLGNBQWMsd0JBQzdCRCxRQUFRQyxPQUFPLHVCQUNmO0FDQUFELFFBQVFDLE9BQU8saUJBQWNxQyxNQUFBLHNCQUFBQyxVQUFBLG9JQVN6QkMsR0FBT0EsTUFDTEEsRUFBVUMsVUFDVkMsUUFB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ZCxTQUNBLFNBQ0EsZUFDQSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ215QXBwJyxbXHJcblx0J25nUm91dGUnLFxyXG5cdCdhbmd1bGFyVHJpeCcsXHJcblx0J3VpLnRpbnltY2UnLFxyXG5cdCdteUFwcC5jb21tb24nLFxyXG5cdCdteUFwcC5tYWluJyxcclxuXHQnbXlBcHAudXNlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJGh0dHBQcm92aWRlcil7XHJcbiAgICAvL0luaXRpYWxpemUgR2V0IFJlcXVlc3RcclxuXHRpZighJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCl7XHJcblx0ICAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0ge307XHJcblx0fVxyXG5cclxuXHQvL0Rpc2FibGUgSUUgQWpheCBSZXF1ZXN0IENhY2hlXHJcblx0JGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddID0gJ1hNTEh0dHBSZXF1ZXN0JztcclxuXHQkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0WydDYWNoZS1Db250cm9sJ10gPSAnbm8tY2FjaGUnO1xyXG5cdCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5nZXRbJ1ByYWdtYSddID0gJ25vLWNhY2hlJztcclxuXHRcclxuXHQvL3JvdXRlIHNldHRpbmdcclxuXHQkcm91dGVQcm92aWRlclxyXG5cdC53aGVuKCcvJyx7XHJcblx0XHR0ZW1wbGF0ZVVybDondGVtcGxhdGUvdGVzdE5nUm91dGUtbWFpbi5odG1sJyxcclxuXHRcdGNvbnRyb2xsZXI6J21haW5DdHJsJyxcclxuXHRcdHJlc29sdmU6e1xyXG5cdFx0XHRtYWluRGF0YTpmdW5jdGlvbih0ZXN0U2VydmljZSl7XHJcblx0XHRcdFx0cmV0dXJuIHRlc3RTZXJ2aWNlLmdldE1haW4oKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRcdHJldHVybiBlcnIuZGF0YTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG4vL1x0XHRcdHJlc3REYXRhOmZ1bmN0aW9uKHRlc3RTZXJ2aWNlKXtcclxuLy9cdFx0XHRcdHJldHVybiB0ZXN0U2VydmljZS5nZXRSZXN0KCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG4vL1x0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcbi8vXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG4vL1x0XHRcdFx0XHRyZXR1cm4gZXJyLmRhdGE7XHJcbi8vXHRcdFx0XHR9KTtcclxuLy9cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxuXHQud2hlbignL3VzZXIvOnVzZXJJZCcse1xyXG5cdFx0dGVtcGxhdGVVcmw6J3RlbXBsYXRlL3Rlc3ROZ1JvdXRlLXVzZXIuaHRtbCcsXHJcblx0XHRjb250cm9sbGVyOid1c2VyQ3RybCcsXHJcblx0XHRyZXNvbHZlOntcclxuXHRcdFx0dXNlckRhdGE6ZnVuY3Rpb24odGVzdFNlcnZpY2Upe1xyXG5cdFx0XHRcdHJldHVybiB0ZXN0U2VydmljZS5nZXRVc2VyKCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0cmVsb2FkT25TZWFyY2g6ZmFsc2VcclxuXHR9KVxyXG5cdC53aGVuKCcvdGlueW1pY2UnLHtcclxuXHRcdHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90aW55bWljZS5odG1sJyxcclxuXHRcdGNvbnRyb2xsZXI6J3RpbnltaWNlQ3RybCcsXHJcblx0XHRyZWxvYWRPblNlYXJjaDpmYWxzZVxyXG5cdH0pXHJcblx0Lm90aGVyd2lzZSh7XHJcblx0XHRyZWRpcmVjdFRvOicvJ1xyXG5cdH0pO1xyXG5cdFxyXG5cdC8vaHRtbDUgbW9kZSBzZXR0aW5nXHJcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKGZhbHNlKTtcclxuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcclxuXHJcblx0Ly9JbnRlcmNlcHRvclxyXG5cdCRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2h0dHBJbnRlcmNlcHRvcicpO1xyXG5cdGNvbnNvbGUubG9nKCd0aGUgYW5ndWxhciBhcHAgaXMgc3RhcnQhJyk7XHJcbn0pXHJcbi5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwkdGVtcGxhdGVDYWNoZSl7XHJcblx0JHJvb3RTY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCkgeyAgXHJcbiAgICAgICAgaWYgKHR5cGVvZihjdXJyZW50KSAhPT0gJ3VuZGVmaW5lZCcpeyAgXHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnJlbW92ZShjdXJyZW50LnRlbXBsYXRlVXJsKTsgIFxyXG4gICAgICAgIH0gIFxyXG4gICAgfSk7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlVXBkYXRlJyxmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCl7XHJcbiAgICBcdGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgIFx0Y29uc29sZS5sb2cobmV4dCk7XHJcbiAgICBcdGNvbnNvbGUubG9nKGN1cnJlbnQpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LFsnbXlBcHAnXSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbXlBcHAuY29tbW9uJyxbXSk7XHJcbmFuZ3VsYXIubW9kdWxlKCdteUFwcC5tYWluJyxbJ215QXBwLm1haW4udGlueW1pY2UnXSk7XHJcbmFuZ3VsYXIubW9kdWxlKCdteUFwcC5tYWluLnRpbnltaWNlJyxbJ215QXBwLmNvbW1vbicsJ3VpLnRpbnltY2UnXSk7XHJcbmFuZ3VsYXIubW9kdWxlKCdteUFwcC51c2VyJyxbJ215QXBwLmNvbW1vbiddKTsiLCIvKipcbiAqIEJpbmRzIGEgVGlueU1DRSB3aWRnZXQgdG8gPHRleHRhcmVhPiBlbGVtZW50cy5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3VpLnRpbnltY2UnLCBbXSlcbiAgLnZhbHVlKCd1aVRpbnltY2VDb25maWcnLCB7fSlcbiAgLmRpcmVjdGl2ZSgndWlUaW55bWNlJywgWyckcm9vdFNjb3BlJywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyR3aW5kb3cnLCAnJHNjZScsICd1aVRpbnltY2VDb25maWcnLCAndWlUaW55bWNlU2VydmljZScsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkdGltZW91dCwgJHdpbmRvdywgJHNjZSwgdWlUaW55bWNlQ29uZmlnLCB1aVRpbnltY2VTZXJ2aWNlKSB7XG4gICAgdWlUaW55bWNlQ29uZmlnID0gdWlUaW55bWNlQ29uZmlnIHx8IHt9O1xuXG4gICAgaWYgKHVpVGlueW1jZUNvbmZpZy5iYXNlVXJsKSB7XG4gICAgICB0aW55bWNlLmJhc2VVUkwgPSB1aVRpbnltY2VDb25maWcuYmFzZVVybDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybSddLFxuICAgICAgcHJpb3JpdHk6IDU5OSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgaWYgKCEkd2luZG93LnRpbnltY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzBdLFxuICAgICAgICAgIGZvcm0gPSBjdHJsc1sxXSB8fCBudWxsO1xuXG4gICAgICAgIHZhciBleHByZXNzaW9uLCBvcHRpb25zID0ge1xuICAgICAgICAgIGRlYm91bmNlOiB0cnVlXG4gICAgICAgIH0sIHRpbnlJbnN0YW5jZSxcbiAgICAgICAgICB1cGRhdGVWaWV3ID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KHtmb3JtYXQ6IG9wdGlvbnMuZm9ybWF0fSkudHJpbSgpO1xuICAgICAgICAgICAgY29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoY29udGVudCk7XG5cbiAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShjb250ZW50KTtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZURpc2FibGUoZGlzYWJsZWQpIHtcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJiAhdGlueUluc3RhbmNlLnNldHRpbmdzLnJlYWRvbmx5ICYmIHRpbnlJbnN0YW5jZS5nZXREb2MoKSkge1xuICAgICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0Qm9keSgpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmV0Y2ggYSB1bmlxdWUgSUQgZnJvbSB0aGUgc2VydmljZVxuICAgICAgICB2YXIgdW5pcXVlSWQgPSB1aVRpbnltY2VTZXJ2aWNlLmdldFVuaXF1ZUlkKCk7XG4gICAgICAgIGF0dHJzLiRzZXQoJ2lkJywgdW5pcXVlSWQpO1xuXG4gICAgICAgIGV4cHJlc3Npb24gPSB7fTtcblxuICAgICAgICBhbmd1bGFyLmV4dGVuZChleHByZXNzaW9uLCBzY29wZS4kZXZhbChhdHRycy51aVRpbnltY2UpKTtcblxuICAgICAgICAvL0RlYm91bmNlIHVwZGF0ZSBhbmQgc2F2ZSBhY3Rpb25cbiAgICAgICAgdmFyIGRlYm91bmNlZFVwZGF0ZSA9IChmdW5jdGlvbihkZWJvdW5jZWRVcGRhdGVEZWxheSkge1xuICAgICAgICAgIHZhciBkZWJvdW5jZWRVcGRhdGVUaW1lcjtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWQpIHtcblx0ICAgICAgICAkdGltZW91dC5jYW5jZWwoZGVib3VuY2VkVXBkYXRlVGltZXIpO1xuXHQgICAgICAgICBkZWJvdW5jZWRVcGRhdGVUaW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gKGZ1bmN0aW9uKGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVkLmlzRGlydHkoKSkge1xuICAgICAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlVmlldyhlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KShlZCk7XG4gICAgICAgICAgICB9LCBkZWJvdW5jZWRVcGRhdGVEZWxheSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSkoNDAwKTtcblxuICAgICAgICB2YXIgc2V0dXBPcHRpb25zID0ge1xuICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuIGNhbGxpbmcgc2V0Q29udGVudFxuICAgICAgICAgIC8vIChzdWNoIGFzIGZyb20gdGhlIHNvdXJjZSBlZGl0b3IgcG9wdXApXG4gICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKGVkKSB7XG4gICAgICAgICAgICBlZC5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRVbnRvdWNoZWQoKTtcbiAgICAgICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIHdoZW46XG4gICAgICAgICAgICAvLyAtIGEgYnV0dG9uIGhhcyBiZWVuIGNsaWNrZWQgW0V4ZWNDb21tYW5kXVxuICAgICAgICAgICAgLy8gLSB0aGUgZWRpdG9yIGNvbnRlbnQgaGFzIGJlZW4gbW9kaWZpZWQgW2NoYW5nZV1cbiAgICAgICAgICAgIC8vIC0gdGhlIG5vZGUgaGFzIGNoYW5nZWQgW05vZGVDaGFuZ2VdXG4gICAgICAgICAgICAvLyAtIGFuIG9iamVjdCBoYXMgYmVlbiByZXNpemVkICh0YWJsZSwgaW1hZ2UpIFtPYmplY3RSZXNpemVkXVxuICAgICAgICAgICAgZWQub24oJ0V4ZWNDb21tYW5kIGNoYW5nZSBOb2RlQ2hhbmdlIE9iamVjdFJlc2l6ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRlYm91bmNlKSB7XG4gICAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgICBcdHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWJvdW5jZWRVcGRhdGUoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uYmx1cigpO1xuICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRUb3VjaGVkKCk7XG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWQub24oJ3JlbW92ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh1aVRpbnltY2VDb25maWcuc2V0dXApIHtcbiAgICAgICAgICAgICAgdWlUaW55bWNlQ29uZmlnLnNldHVwKGVkLCB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlldzogdXBkYXRlVmlld1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24uc2V0dXApIHtcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbi5zZXR1cChlZCwge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXc6IHVwZGF0ZVZpZXdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3JtYXQ6IGV4cHJlc3Npb24uZm9ybWF0IHx8ICdodG1sJyxcbiAgICAgICAgICBzZWxlY3RvcjogJyMnICsgYXR0cnMuaWRcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXh0ZW5kIG9wdGlvbnMgd2l0aCBpbml0aWFsIHVpVGlueW1jZUNvbmZpZyBhbmRcbiAgICAgICAgLy8gb3B0aW9ucyBmcm9tIGRpcmVjdGl2ZSBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgYW5ndWxhci5leHRlbmQob3B0aW9ucywgdWlUaW55bWNlQ29uZmlnLCBleHByZXNzaW9uLCBzZXR1cE9wdGlvbnMpO1xuICAgICAgICAvLyBXcmFwcGVkIGluICR0aW1lb3V0IGR1ZSB0byAkdGlueW1jZTpyZWZyZXNoIGltcGxlbWVudGF0aW9uLCByZXF1aXJlc1xuICAgICAgICAvLyBlbGVtZW50IHRvIGJlIHByZXNlbnQgaW4gRE9NIGJlZm9yZSBpbnN0YW50aWF0aW5nIGVkaXRvciB3aGVuXG4gICAgICAgIC8vIHJlLXJlbmRlcmluZyBkaXJlY3RpdmVcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuYmFzZVVSTCl7XG4gICAgICAgICAgICB0aW55bWNlLmJhc2VVUkwgPSBvcHRpb25zLmJhc2VVUkw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBtYXliZUluaXRQcm9taXNlID0gdGlueW1jZS5pbml0KG9wdGlvbnMpO1xuICAgICAgICAgIGlmKG1heWJlSW5pdFByb21pc2UgJiYgdHlwZW9mIG1heWJlSW5pdFByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbWF5YmVJbml0UHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0b2dnbGVEaXNhYmxlKHNjb3BlLiRldmFsKGF0dHJzLm5nRGlzYWJsZWQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2dnbGVEaXNhYmxlKHNjb3BlLiRldmFsKGF0dHJzLm5nRGlzYWJsZWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPyAkc2NlLnRydXN0QXNIdG1sKG1vZGVsVmFsdWUpIDogJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbih2aWV3VmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlID8gJHNjZS5nZXRUcnVzdGVkSHRtbCh2aWV3VmFsdWUpIDogJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gbmdNb2RlbC4kdmlld1ZhbHVlID9cbiAgICAgICAgICAgICRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlKSA6ICcnO1xuXG4gICAgICAgICAgLy8gaW5zdGFuY2UuZ2V0RG9jKCkgY2hlY2sgaXMgYSBndWFyZCBhZ2FpbnN0IG51bGwgdmFsdWVcbiAgICAgICAgICAvLyB3aGVuIGRlc3RydWN0aW9uICYgcmVjcmVhdGlvbiBvZiBpbnN0YW5jZXMgaGFwcGVuXG4gICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJlxuICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldERvYygpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2Uuc2V0Q29udGVudCh2aWV3VmFsdWUpO1xuICAgICAgICAgICAgLy8gVHJpZ2dlcmluZyBjaGFuZ2UgZXZlbnQgZHVlIHRvIFRpbnlNQ0Ugbm90IGZpcmluZyBldmVudCAmXG4gICAgICAgICAgICAvLyBiZWNvbWluZyBvdXQgb2Ygc3luYyBmb3IgY2hhbmdlIGNhbGxiYWNrc1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLmZpcmUoJ2NoYW5nZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCB0b2dnbGVEaXNhYmxlKTtcblxuICAgICAgICAvLyBUaGlzIGJsb2NrIGlzIGJlY2F1c2Ugb2YgVGlueU1DRSBub3QgcGxheWluZyB3ZWxsIHdpdGggcmVtb3ZhbCBhbmRcbiAgICAgICAgLy8gcmVjcmVhdGlvbiBvZiBpbnN0YW5jZXMsIHJlcXVpcmluZyBpbnN0YW5jZXMgdG8gaGF2ZSBkaWZmZXJlbnRcbiAgICAgICAgLy8gc2VsZWN0b3JzIGluIG9yZGVyIHRvIHJlbmRlciBuZXcgaW5zdGFuY2VzIHByb3Blcmx5XG4gICAgICAgIHZhciB1bmJpbmRFdmVudExpc3RlbmVyID0gc2NvcGUuJG9uKCckdGlueW1jZTpyZWZyZXNoJywgZnVuY3Rpb24oZSwgaWQpIHtcbiAgICAgICAgICB2YXIgZWlkID0gYXR0cnMuaWQ7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoaWQpIHx8IGlkID09PSBlaWQpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgICAgIHZhciBjbG9uZWRFbGVtZW50ID0gZWxlbWVudC5jbG9uZSgpO1xuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdpZCcpO1xuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbicpO1xuICAgICAgICAgICAgdGlueW1jZS5leGVjQ29tbWFuZCgnbWNlUmVtb3ZlRWRpdG9yJywgZmFsc2UsIGVpZCk7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZCgkY29tcGlsZShjbG9uZWRFbGVtZW50KShzY29wZSkpO1xuICAgICAgICAgICAgdW5iaW5kRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICBpZiAodGlueUluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2UucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZW5zdXJlSW5zdGFuY2UoKSB7XG4gICAgICAgICAgaWYgKCF0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IHRpbnltY2UuZ2V0KGF0dHJzLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XSlcbiAgLnNlcnZpY2UoJ3VpVGlueW1jZVNlcnZpY2UnLCBbXG4gICAgLyoqXG4gICAgICogQSBzZXJ2aWNlIGlzIHVzZWQgdG8gY3JlYXRlIHVuaXF1ZSBJRCdzLCB0aGlzIHByZXZlbnRzIGR1cGxpY2F0ZSBJRCdzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBlZGl0b3JzIG9uIHNjcmVlbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBVSVRpbnltY2VTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG4gICBcdCAgICB2YXIgSURfQVRUUiA9ICd1aS10aW55bWNlJztcbiAgICBcdC8vIHVuaXF1ZUlkIGtlZXBzIHRyYWNrIG9mIHRoZSBsYXRlc3QgYXNzaWduZWQgSURcbiAgICBcdHZhciB1bmlxdWVJZCA9IDA7XG4gICAgICAgIC8vIGdldFVuaXF1ZUlkIHJldHVybnMgYSB1bmlxdWUgSURcbiAgICBcdHZhciBnZXRVbmlxdWVJZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVuaXF1ZUlkICsrO1xuICAgICAgICAgIHJldHVybiBJRF9BVFRSICsgJy0nICsgdW5pcXVlSWQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHJldHVybiB0aGUgZnVuY3Rpb24gYXMgYSBwdWJsaWMgbWV0aG9kIG9mIHRoZSBzZXJ2aWNlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgIFx0Z2V0VW5pcXVlSWQ6IGdldFVuaXF1ZUlkXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgLy8gcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlXG4gICAgICByZXR1cm4gbmV3IFVJVGlueW1jZVNlcnZpY2UoKTtcbiAgICB9XG4gIF0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLmNvbW1vbicpXHJcbi5kaXJlY3RpdmUoJ215SW5wdXRQYXJzZScsZnVuY3Rpb24oKXtcclxuXHRyZXR1cm57XHJcblx0XHRyZXN0cmljdDpcIkVBXCIsXHJcblx0XHRwcmlvcml0eTotMSxcclxuXHRcdHJlcXVpcmU6Jz9uZ01vZGVsJyxcclxuXHRcdGxpbms6ZnVuY3Rpb24oJHNjb3BlLCAkZWxlbSwgJGF0dHJzLCBuZ01vZGVsQ3RybCl7XHJcblx0XHRcdGlmKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnbXlJbnB1dFBhcnNlJyk7XHJcblx0XHRcdG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe1xyXG4vL1x0XHRcdFx0dmFyIFZBTElEX1JFR0VYUCA9IC9eXFx3KyQvLFxyXG5cdFx0XHRcdHZhciBWQUxJRF9SRUdFWFAgPSAvXlxcZCtcXC4/XFxkezAsMn0kLyxcclxuXHRcdFx0IFx0aXNWYWxpZCA9IFZBTElEX1JFR0VYUC50ZXN0KHZhbHVlKSxcclxuXHRcdFx0ICAgIGxhc3RWYWwgPSB2YWx1ZS5zdWJzdHJpbmcoMCx2YWx1ZS5sZW5ndGgtMSk7XHJcblx0XHRcdCAgICBcclxuXHRcdFx0XHRpZihpc1ZhbGlkKXtcclxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobGFzdFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGxhc3RWYWw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbi5kaXJlY3RpdmUoJ2NvbXBhbnlFbWFpbFZhbGlkYXRvcicsZnVuY3Rpb24oKXtcclxuLypjaGFuZ2UgZW1haWwgdmFsaWRhdG9yIHJ1bGVzOlVwIHRvIDI1NCBjaGFyYWN0ZXIgYmVmb3JlICdAJyovXHJcblx0dmFyIEVNQUlMX1JFR0VYUCA9IC9eKD89LnsxLDI1NH0kKSg/PS57MSwyNTR9QClbLSEjJCUmJyorLzAtOT0/QS1aXl9gYS16e3x9fl0rKFxcLlstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvO1xyXG5cdHJldHVybntcclxuXHRcdHJlc3RyaWN0OlwiRUFcIixcclxuXHRcdHByaW9yaXR5Oi0xLFxyXG5cdFx0cmVxdWlyZTonP25nTW9kZWwnLFxyXG5cdFx0bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW0sJGF0dHJzLG5nTW9kZWxDdHJsKXtcclxuXHRcdFx0aWYobmdNb2RlbEN0cmwgJiYgbmdNb2RlbEN0cmwuJHZhbGlkYXRvcnMuZW1haWwpe1xyXG5cdFx0XHRcdG5nTW9kZWxDdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcblx0XHQgICAgXHRcdHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xyXG5cdFx0ICAgIFx0XHRyZXR1cm4gbmdNb2RlbEN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdCBcdFx0IH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbi5kaXJlY3RpdmUoJ3JldGFpbkRlY2ltYWwnLGZ1bmN0aW9uKCl7XHJcblx0dmFyIFJPVU5EVVBfMF9SRUdFWFAgPSAvXlxcZCskLyxcdFxyXG5cdFx0Uk9VTkRVUF8xX1JFR0VYUCA9IC9eXFxkKyhcXC4pP1xcZHswLDF9JC8sXHJcblx0XHRST1VORFVQXzJfUkVHRVhQID0gL15cXGQrKFxcLik/XFxkezAsMn0kLyxcclxuXHRcdHJldGFpbkNvbmZpZyA9IHtcclxuXHRcdFx0cmVzdHJpY3Q6XCJBXCIsXHJcblx0XHRcdHJlcXVpcmU6Jz9uZ01vZGVsJyxcclxuXHRcdFx0bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW0sJGF0dHJzLG5nTW9kZWxDdHJsKXtcclxuXHRcdFx0XHRuZ01vZGVsQ3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtcclxuXHRcdFx0XHRcdHZhciByZXRhaW5EZWNpbWFsID0gJGF0dHJzLnJldGFpbkRlY2ltYWwsXHJcblx0XHRcdFx0XHRcdGxhc3RWYWwgPSB2YWx1ZS5zdWJzdHJpbmcoMCx2YWx1ZS5sZW5ndGgtMSksXHJcblx0XHRcdFx0XHRcdGxhc3RDaGFyID0gdmFsdWUuY2hhckF0KHZhbHVlLmxlbmd0aC0xKSxcclxuXHRcdFx0XHRcdFx0aXNWYWxpZCxzdHI7XHJcblx0XHRcdFx0XHRzd2l0Y2gocmV0YWluRGVjaW1hbCl7XHJcblx0XHRcdFx0XHRcdGNhc2UgXCIxXCI6XHJcblx0XHRcdFx0XHRcdFx0aXNWYWxpZCA9IFJPVU5EVVBfMV9SRUdFWFAudGVzdCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0c3RyID0gJy4wJztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSBcIjJcIjpcclxuXHRcdFx0XHRcdFx0XHRpc1ZhbGlkID0gUk9VTkRVUF8yX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRzdHIgPSAnLjAwJztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHRpc1ZhbGlkID0gUk9VTkRVUF8wX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRzdHIgPSAnJztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cdFx0XHQgICAgXHJcblx0XHRcdFx0XHRpZihpc1ZhbGlkKXtcclxuXHRcdFx0XHRcdFx0aWYobGFzdENoYXIgPT0gJy4nKXtcclxuXHRcdFx0XHRcdFx0XHRuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGxhc3RWYWwrc3RyKTtcclxuXHQgICAgICAgICAgICAgICAgICAgIFx0bmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBsYXN0VmFsK3N0cjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShsYXN0VmFsKTtcclxuXHQgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGxhc3RWYWw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0cmV0dXJuIHJldGFpbkNvbmZpZztcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLmNvbW1vbicpXHJcbi5mYWN0b3J5KCdodHRwSW50ZXJjZXB0b3InLGZ1bmN0aW9uKCRzY2UsJHJvb3RTY29wZSwkdGltZW91dCl7XHJcblx0dmFyIHN0YXJ0VGltZSxlbmRUaW1lO1xyXG5cdHJldHVybntcclxuXHRcdCdyZXF1ZXN0JzpmdW5jdGlvbihyZXEpe1xyXG5cdFx0XHRzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdFx0JHJvb3RTY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuIHJlcTtcclxuXHRcdH0sXHJcblx0XHQncmVzcG9uc2UnOmZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdGVuZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdFx0JHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0dmFyIGxvYWRpbmdUaW1lID0gZW5kVGltZS1zdGFydFRpbWU7XHJcblx0XHRcdFx0aWYobG9hZGluZ1RpbWUgPiA1MDApe1xyXG5cdFx0XHRcdFx0JHJvb3RTY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH0sNTAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmVzO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLmNvbW1vbicpXHJcbi5mYWN0b3J5KCd0ZXN0U2VydmljZScsZnVuY3Rpb24oJGh0dHAsJHEpe1xyXG5cdHJldHVybntcclxuXHRcdGdldE1haW46ZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCgnbW9jay90ZXN0TmdSb3V0ZS1tYWluLmpzb24nKTtcclxuXHRcdH0sXHJcblx0XHRnZXRVc2VyOmZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJ21vY2svdGVzdE5nUm91dGUtdXNlci5qc29uJyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0UmVzdDpmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvcmVzdGFwaS9sb2dpbicpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLm1haW4nKVxyXG4uY29udHJvbGxlcignbWFpbkN0cmwnLGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgbWFpbkRhdGEsICRwYXJzZSl7XHJcblx0JHNjb3BlLnBhZ2VOYW1lID0gbWFpbkRhdGEucGFnZU5hbWU7XHJcblx0JHNjb3BlLm15SW5wdXRWYWwxID0gXCIxMTFcIjtcclxuXHQkc2NvcGUubXlJbnB1dFZhbDIgPSBcIlwiO1xyXG5cdCRzY29wZS5teUlucHV0VmFsMyA9IFwiXCI7XHJcblx0JHNjb3BlLm15SW5wdXRWYWw0ID0gXCJcIjtcclxuLy9cdCRzY29wZS5kYXRlID0gcmVzdERhdGEuZGF0YS5kYXRlO1xyXG4vL1x0Y29uc29sZS5kZWJ1ZyhyZXN0RGF0YSk7XHJcblx0JHNjb3BlLnVwZGF0ZVZhbCA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgdGV4dCA9IFwiJ2l0IGlzIG15IHRlc3QhdGhlIHJlc3VsdCBpczonICsgbXlJbnB1dFZhbDFcIjtcclxuXHRcdHZhciBpbnB1dEZ1YyA9ICRwYXJzZSh0ZXh0KTtcclxuXHRcdCRzY29wZS5teUlucHV0VmFsUmVzID0gaW5wdXRGdWMoJHNjb3BlKTtcclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5tYWluLnRpbnltaWNlJylcclxuLmNvbnRyb2xsZXIoJ3RpbnltaWNlQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCAkcm91dGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCAkc2NlKXtcclxuICAgdmFyIGN0cmwgPSB0aGlzO1xyXG5cdCRzY29wZS5zZXR0aW5nID0ge1xyXG5cdFx0aW5saW5lOiBmYWxzZSxcclxuXHQgIFx0cGx1Z2luczogXCJhZHZsaXN0IGF1dG9saW5rIGxpc3RzIGxpbmsgaW1hZ2UgY2hhcm1hcCBwcmludCBwcmV2aWV3IGFuY2hvclwiLFxyXG4gICBcdFx0cmVhZG9ubHkgOiAkc2NvcGUub3BlcmF0ZSA9PT0gJ3ZpZXcnID8gdHJ1ZSA6IGZhbHNlLFxyXG5cdCAgICBza2luOiAnbGlnaHRncmF5JyxcclxuICAgIFx0dGhlbWUgOiAnbW9kZXJuJyxcclxuICAgIFx0bWluX2hlaWdodDogMjAwLFxyXG4gICAgXHRtYXhfaGVpZ2h0OiA1MDBcclxuXHR9O1xyXG4gICAgdGhpcy51cGRhdGVIdG1sID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGN0cmwudGlueW1jZUh0bWwgPSAkc2NlLnRydXN0QXNIdG1sKGN0cmwudGlueW1jZSk7XHJcbiAgICB9O1xyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnbXlBcHAudXNlcicpXHJcbi5jb250cm9sbGVyKCd1c2VyQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCAkcm91dGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCB1c2VyRGF0YSl7XHJcblx0JHNjb3BlLnBhZ2VOYW1lID0gdXNlckRhdGEucGFnZU5hbWU7XHJcblx0JHNjb3BlLnVzZXJJZCA9ICRyb3V0ZVBhcmFtcy51c2VySWQ7XHJcblx0JHNjb3BlLmZvbyA9IFwicGxlYXNlIGlucHV0IVwiO1xyXG59KTsiXX0=
