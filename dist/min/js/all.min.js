angular.module("myApp",["ngRoute","angularTrix","myApp.common","myApp.main","myApp.user"]).config(["$routeProvider","$locationProvider","$httpProvider",function(e,t,r){r.defaults.headers.get||(r.defaults.headers.get={}),r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r.defaults.headers.get["Cache-Control"]="no-cache",r.defaults.headers.get.Pragma="no-cache",e.when("/",{templateUrl:"template/testNgRoute-main.html",controller:"mainCtrl",resolve:{mainData:["testService",function(e){return e.getMain().then(function(e){return e.data}).catch(function(e){return e.data})}]}}).when("/user/:userId",{templateUrl:"template/testNgRoute-user.html",controller:"userCtrl",resolve:{userData:["testService",function(e){return e.getUser().then(function(e){return e.data})}]},reloadOnSearch:!1}).otherwise({redirectTo:"/"}),t.html5Mode(!1),t.hashPrefix(""),r.interceptors.push("httpInterceptor"),console.log("the angular app is start!")}]).run(["$rootScope","$templateCache",function(e,t){e.loading=!1,e.$on("$routeChangeStart",function(e,r,o){void 0!==o&&t.remove(o.templateUrl)}),e.$on("$routeUpdate",function(e,t,r){console.log(e),console.log(t),console.log(r)})}]),angular.element(document).ready(function(){angular.bootstrap(document,["myApp"])});
angular.module("myApp.common",[]),angular.module("myApp.main",["myApp.common"]),angular.module("myApp.user",["myApp.common"]);
angular.module("myApp.common").directive("myInputParse",function(){return{restrict:"EA",priority:-1,require:"?ngModel",link:function(r,e,t,i){i&&(console.log("myInputParse"),i.$parsers.push(function(r){var e=/^\d+\.?\d{0,2}$/,t=e.test(r),n=r.substring(0,r.length-1);return t?r:(i.$setViewValue(n),i.$render(),n)}))}}}).directive("companyEmailValidator",function(){var r=/^(?=.{1,254}$)(?=.{1,254}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;return{restrict:"EA",priority:-1,require:"?ngModel",link:function(e,t,i,n){n&&n.$validators.email&&(n.$validators.email=function(e,t){var i=e||t;return n.$isEmpty(i)||r.test(i)})}}});
angular.module("myApp.common").factory("httpInterceptor",["$sce","$rootScope","$timeout",function(n,e,t){var o,r;return{request:function(n){return o=(new Date).getTime(),e.loading=!0,n},response:function(n){return r=(new Date).getTime(),e.$evalAsync(function(){r-o>500?e.loading=!1:t(function(){e.loading=!1},500)}),n}}}]);
angular.module("myApp.common").factory("testService",["$http","$q",function(t,e){return{getMain:function(){return t.get("mock/testNgRoute-main.json")},getUser:function(){return t.get("mock/testNgRoute-user.json")},getRest:function(){return t.get("/restapi/login")}}}]);
angular.module("myApp.main").controller("mainCtrl",["$scope","$route","$routeParams","$location","mainData","$parse",function(a,t,e,n,m,l){a.pageName=m.pageName,a.myInputVal="111",a.updateVal=function(){var t=l("'it is my test!the result is:' + myInputVal");a.myInputValRes=t(a)}}]);
angular.module("myApp.user").controller("userCtrl",["$scope","$route","$routeParams","$location","userData",function(e,a,r,o,u){e.pageName=u.pageName,e.userId=r.userId,e.foo="please input!"}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1vZHVsZS5qcyIsImRpcmVjdGl2ZS9pbnB1dERpcmUuanMiLCJzZXJ2aWNlL2ludGVyQ2VwdG9yU2Vydi5qcyIsInNlcnZpY2UvdGVzdFNlcnYuanMiLCJjb250cm9sbGVyL21haW4vbWFpbkN0cmwuanMiLCJjb250cm9sbGVyL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJnZXQiLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwibWFpbkRhdGEiLCJ0ZXN0U2VydmljZSIsImdldE1haW4iLCJ0aGVuIiwicmVzIiwidXNlckRhdGEiLCJnZXRVc2VyIiwiZGF0YSIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCIkbG9jYXRpb25Qcm92aWRlciIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJydW4iLCIkcm9vdFNjb3BlIiwiJHRlbXBsYXRlQ2FjaGUiLCJsb2FkaW5nIiwiY3VycmVudCIsInJlbW92ZSIsIiRvbiIsImV2ZW50IiwibmV4dCIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInByaW9yaXR5IiwicmVxdWlyZSIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbSIsIiRhdHRycyIsIm5nTW9kZWxDdHJsIiwiJHBhcnNlcnMiLCJwdXNoIiwidmFsdWUiLCJWQUxJRF9SRUdFWFAiLCJpc1ZhbGlkIiwidGVzdCIsImxhc3RWYWwiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCIkc2V0Vmlld1ZhbHVlIiwiJHJlbmRlciIsIiR2YWxpZGF0b3JzIiwiZW1haWwiLCJtb2RlbFZhbHVlIiwidmlld1ZhbHVlIiwiJGlzRW1wdHkiLCJFTUFJTF9SRUdFWFAiLCJmYWN0b3J5IiwiJHNjZSIsIiR0aW1lb3V0Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInJlcXVlc3QiLCJyZXEiLCJyZXNwb25zZSIsIkRhdGUiLCJnZXRUaW1lIiwiJGV2YWxBc3luYyIsIiRodHRwIiwiJHEiLCIkcm91dGUiLCIkcm91dGVQYXJhbXMiLCIkbG9jYXRpb24iLCIkcGFyc2UiLCJwYWdlTmFtZSIsIm15SW5wdXRWYWwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRQyxPQUFPLFNBQ2QsVUFDQSxjQUNBLGVBQ0EsYUFDQSxlQUNFQyx5QkFFRiw2RUFLQUMsRUFBY0MsU0FBU0MsUUFBUUMsMEhBSy9CSCxFQUFBQyxTQUFBQyxRQUFBQyxJQUFBLE9BQUEsV0FFQ0MsRUFBWUMsS0FBQSxLQUNaQyxZQUFXLGlDQUNYQyxXQUFRLFdBQ1BDLFNBQ0NDLFVBQ0MsY0FDRSxTQUFNQyxHQUNELE1BQUlBLEdBQUFDLFVBQUFDLEtBQUEsU0FBQUMsNEpBWVRDLFVBQ0wsY0FDQSxTQUFXSixHQUNILE1BQUFBLEdBQUFLLFVBQUFILEtBQUEsU0FBQUMsR0FDUCxNQUFBQSxHQUFBRyw4QkFNREMsV0FBZUMsV0FBQSxNQUVmQyxFQUFVQyxXQUFBLEdBQ1ZELEVBQVdFLFdBQUEsdUZBS1pDLG1DQUdBLFNBQUFDLEVBQWNDLEdBQ2RELEVBQVlFLFNBQUEsZ0RBRVosS0FBQUMsR0FDQUYsRUFBcUJHLE9BQUFELEVBQUFwQixpQkFHVnNCLElBQUEsZUFBc0IsU0FBUUMsRUFBQUMsRUFBQUosaUNBR3RDSyxRQUFBQyxJQUFXTjtBQ3RFZjdCLFFBQVFDLE9BQU8sbUJBQ2ZELFFBQVFDLE9BQU8sY0FBYyxpQkFDN0JELFFBQVFDLE9BQU8sY0FBYztBQ0Y3QkQsUUFBUUMsT0FBTyxnQkFBQW1DLFVBQUEsZUFBQSxXQUNkLE9BQ0FDLFNBQU0sS0FDTEMsVUFBUyxFQUNUQyxRQUFVLFdBQ1ZDLEtBQVEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDSEEsSUFFSlYsUUFBUUMsSUFBSSxnQkFDWlMsRUFBWUMsU0FBU0MsS0FBSyxTQUFTQyxHQUU5QixHQUFBQyxHQUFlLGtCQUFBQyxFQUFBRCxFQUFBRSxLQUFBSCxHQUFBSSxFQUFBSixFQUFBSyxVQUFBLEVBQUFMLEVBQUFNLE9BQUEsRUFDbEIsT0FBQUosR0FDWUYsR0FFVkgsRUFBUVUsY0FBQUgsR0FDVlAsRUFBT1csVUFDSEosb1FBU1JkLFNBQVUsaUJBRVZFLFFBQUksV0FDSkMsS0FBTSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNMQSxHQUFTQSxFQUFBWSxZQUFBQyxRQUNUYixFQUFVWSxZQUFBQyxNQUFBLFNBQUFDLEVBQUFDLEdBQ0YsR0FBQVosR0FBQVcsR0FBQUMsQ0FDSCxPQUFTZixHQUFhZ0IsU0FBT2IsSUFBWWMsRUFBQVgsS0FBQUg7QUNqQ2hEL0MsUUFBUUMsT0FBTyxnQkFBQTZELFFBQUEsbUJBQ2QsT0FDQSxhQUNBLFdBQ0MsU0FBVUMsRUFBQXJDLEVBQWFzQyxHQUN0QixHQUFBQyxHQUFnQkMsQ0FDaEIsUUFDQUMsUUFBTyxTQUFBQyxHQUdQLDhCQUREMUMsRUFBV0UsU0FBYSxFQUNid0MsR0FFVEMsU0FBSSxTQUFjckQsR0FZbkIsTUFYSWtELElBQUEsR0FBY0ksT0FBSUMsVUFDcEI3QyxFQUFXOEMsV0FBVSxXQUNqQk4sRUFBQUQsRUFDZSxJQUNsQnZDLEVBQVdFLFNBQVUsNkJBSWpCLE9BR1BaO0FDeEJIaEIsUUFBUUMsT0FBTyxnQkFBQTZELFFBQUEsZUFDZCxRQUNBLEtBQ0MsU0FBUVcsRUFBQUMsR0FDUCwwQkFFRCxNQUFRRCxHQUFVbkUsSUFBQSxrREFHbEIsTUFBUW1FLEdBQVVuRSxJQUFBO0FDVHBCTixRQUFRQyxPQUFPLGNBQUFTLFdBQUEsWUFDZCxTQUNBLFNBQ0Esc0NBR0EsU0FDQyxTQUFJK0IsRUFBT2tDLEVBQUFDLEVBQUFDLEVBQUFqRSxFQUFBa0UsR0FDWHJDLEVBQUlzQyxTQUFXbkUsRUFBT21FLFNBQ3RCdEMsRUFBT3VDLFdBQUE7QUNUVGhGLFFBQVFDLE9BQU8sY0FBQVMsV0FBQSxZQUNkLFNBQ0EsU0FDQSxlQUNBIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLFtcclxuXHQnbmdSb3V0ZScsXHJcblx0J2FuZ3VsYXJUcml4JyxcclxuXHQnbXlBcHAuY29tbW9uJyxcclxuXHQnbXlBcHAubWFpbicsXHJcblx0J215QXBwLnVzZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpe1xyXG4gICAgLy9Jbml0aWFsaXplIEdldCBSZXF1ZXN0XHJcblx0aWYoISRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5nZXQpe1xyXG5cdCAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHt9O1xyXG5cdH1cclxuXHJcblx0Ly9EaXNhYmxlIElFIEFqYXggUmVxdWVzdCBDYWNoZVxyXG5cdCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7XHJcblx0JGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldFsnQ2FjaGUtQ29udHJvbCddID0gJ25vLWNhY2hlJztcclxuXHQkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0WydQcmFnbWEnXSA9ICduby1jYWNoZSc7XHJcblx0XHJcblx0Ly9yb3V0ZSBzZXR0aW5nXHJcblx0JHJvdXRlUHJvdmlkZXJcclxuXHQud2hlbignLycse1xyXG5cdFx0dGVtcGxhdGVVcmw6J3RlbXBsYXRlL3Rlc3ROZ1JvdXRlLW1haW4uaHRtbCcsXHJcblx0XHRjb250cm9sbGVyOidtYWluQ3RybCcsXHJcblx0XHRyZXNvbHZlOntcclxuXHRcdFx0bWFpbkRhdGE6ZnVuY3Rpb24odGVzdFNlcnZpY2Upe1xyXG5cdFx0XHRcdHJldHVybiB0ZXN0U2VydmljZS5nZXRNYWluKCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyLmRhdGE7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuLy9cdFx0XHRyZXN0RGF0YTpmdW5jdGlvbih0ZXN0U2VydmljZSl7XHJcbi8vXHRcdFx0XHRyZXR1cm4gdGVzdFNlcnZpY2UuZ2V0UmVzdCgpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuLy9cdFx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG4vL1x0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuLy9cdFx0XHRcdFx0cmV0dXJuIGVyci5kYXRhO1xyXG4vL1x0XHRcdFx0fSk7XHJcbi8vXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0LndoZW4oJy91c2VyLzp1c2VySWQnLHtcclxuXHRcdHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90ZXN0TmdSb3V0ZS11c2VyLmh0bWwnLFxyXG5cdFx0Y29udHJvbGxlcjondXNlckN0cmwnLFxyXG5cdFx0cmVzb2x2ZTp7XHJcblx0XHRcdHVzZXJEYXRhOmZ1bmN0aW9uKHRlc3RTZXJ2aWNlKXtcclxuXHRcdFx0XHRyZXR1cm4gdGVzdFNlcnZpY2UuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRcdHJldHVybiByZXMuZGF0YTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHJlbG9hZE9uU2VhcmNoOmZhbHNlXHJcblx0fSlcclxuXHQub3RoZXJ3aXNlKHtcclxuXHRcdHJlZGlyZWN0VG86Jy8nXHJcblx0fSk7XHJcblx0XHJcblx0Ly9odG1sNSBtb2RlIHNldHRpbmdcclxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoZmFsc2UpO1xyXG5cdCRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJycpO1xyXG5cclxuXHQvL0ludGVyY2VwdG9yXHJcblx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnaHR0cEludGVyY2VwdG9yJyk7XHJcblx0Y29uc29sZS5sb2coJ3RoZSBhbmd1bGFyIGFwcCBpcyBzdGFydCEnKTtcclxufSlcclxuLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlLCR0ZW1wbGF0ZUNhY2hlKXtcclxuXHQkcm9vdFNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCBuZXh0LCBjdXJyZW50KSB7ICBcclxuICAgICAgICBpZiAodHlwZW9mKGN1cnJlbnQpICE9PSAndW5kZWZpbmVkJyl7ICBcclxuICAgICAgICAgICAgJHRlbXBsYXRlQ2FjaGUucmVtb3ZlKGN1cnJlbnQudGVtcGxhdGVVcmwpOyAgXHJcbiAgICAgICAgfSAgXHJcbiAgICB9KTtcclxuICAgICRyb290U2NvcGUuJG9uKCckcm91dGVVcGRhdGUnLGZ1bmN0aW9uKGV2ZW50LCBuZXh0LCBjdXJyZW50KXtcclxuICAgIFx0Y29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgXHRjb25zb2xlLmxvZyhuZXh0KTtcclxuICAgIFx0Y29uc29sZS5sb2coY3VycmVudCk7XHJcbiAgICB9KTtcclxufSk7XHJcbmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsWydteUFwcCddKTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5jb21tb24nLFtdKTtcclxuYW5ndWxhci5tb2R1bGUoJ215QXBwLm1haW4nLFsnbXlBcHAuY29tbW9uJ10pO1xyXG5hbmd1bGFyLm1vZHVsZSgnbXlBcHAudXNlcicsWydteUFwcC5jb21tb24nXSk7IiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLmNvbW1vbicpXHJcbi5kaXJlY3RpdmUoJ215SW5wdXRQYXJzZScsZnVuY3Rpb24oKXtcclxuXHRyZXR1cm57XHJcblx0XHRyZXN0cmljdDpcIkVBXCIsXHJcblx0XHRwcmlvcml0eTotMSxcclxuXHRcdHJlcXVpcmU6Jz9uZ01vZGVsJyxcclxuXHRcdGxpbms6ZnVuY3Rpb24oJHNjb3BlLCAkZWxlbSwgJGF0dHJzLCBuZ01vZGVsQ3RybCl7XHJcblx0XHRcdGlmKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnbXlJbnB1dFBhcnNlJyk7XHJcblx0XHRcdG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe1xyXG4vL1x0XHRcdFx0dmFyIFZBTElEX1JFR0VYUCA9IC9eXFx3KyQvLFxyXG5cdFx0XHRcdHZhciBWQUxJRF9SRUdFWFAgPSAvXlxcZCtcXC4/XFxkezAsMn0kLyxcclxuXHRcdFx0IFx0aXNWYWxpZCA9IFZBTElEX1JFR0VYUC50ZXN0KHZhbHVlKSxcclxuXHRcdFx0ICAgIGxhc3RWYWwgPSB2YWx1ZS5zdWJzdHJpbmcoMCx2YWx1ZS5sZW5ndGgtMSk7XHJcblx0XHRcdCAgICBcclxuXHRcdFx0XHRpZihpc1ZhbGlkKXtcclxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobGFzdFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGxhc3RWYWw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbi5kaXJlY3RpdmUoJ2NvbXBhbnlFbWFpbFZhbGlkYXRvcicsZnVuY3Rpb24oKXtcclxuLypjaGFuZ2UgZW1haWwgdmFsaWRhdG9yIHJ1bGVzOlVwIHRvIDI1NCBjaGFyYWN0ZXIgYmVmb3JlICdAJyovXHJcblx0dmFyIEVNQUlMX1JFR0VYUCA9IC9eKD89LnsxLDI1NH0kKSg/PS57MSwyNTR9QClbLSEjJCUmJyorLzAtOT0/QS1aXl9gYS16e3x9fl0rKFxcLlstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvO1xyXG5cdHJldHVybntcclxuXHRcdHJlc3RyaWN0OlwiRUFcIixcclxuXHRcdHByaW9yaXR5Oi0xLFxyXG5cdFx0cmVxdWlyZTonP25nTW9kZWwnLFxyXG5cdFx0bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW0sJGF0dHJzLG5nTW9kZWxDdHJsKXtcclxuXHRcdFx0aWYobmdNb2RlbEN0cmwgJiYgbmdNb2RlbEN0cmwuJHZhbGlkYXRvcnMuZW1haWwpe1xyXG5cdFx0XHRcdG5nTW9kZWxDdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcblx0XHQgICAgXHRcdHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xyXG5cdFx0ICAgIFx0XHRyZXR1cm4gbmdNb2RlbEN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdCBcdFx0IH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5jb21tb24nKVxyXG4uZmFjdG9yeSgnaHR0cEludGVyY2VwdG9yJyxmdW5jdGlvbigkc2NlLCRyb290U2NvcGUsJHRpbWVvdXQpe1xyXG5cdHZhciBzdGFydFRpbWUsZW5kVGltZTtcclxuXHRyZXR1cm57XHJcblx0XHQncmVxdWVzdCc6ZnVuY3Rpb24ocmVxKXtcclxuXHRcdFx0c3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdCRyb290U2NvcGUubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHJldHVybiByZXE7XHJcblx0XHR9LFxyXG5cdFx0J3Jlc3BvbnNlJzpmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRlbmRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpe1xyXG5cdFx0XHRcdHZhciBsb2FkaW5nVGltZSA9IGVuZFRpbWUtc3RhcnRUaW1lO1xyXG5cdFx0XHRcdGlmKGxvYWRpbmdUaW1lID4gNTAwKXtcclxuXHRcdFx0XHRcdCRyb290U2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9LDUwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdH1cclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5jb21tb24nKVxyXG4uZmFjdG9yeSgndGVzdFNlcnZpY2UnLGZ1bmN0aW9uKCRodHRwLCRxKXtcclxuXHRyZXR1cm57XHJcblx0XHRnZXRNYWluOmZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJ21vY2svdGVzdE5nUm91dGUtbWFpbi5qc29uJyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0VXNlcjpmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCdtb2NrL3Rlc3ROZ1JvdXRlLXVzZXIuanNvbicpO1xyXG5cdFx0fSxcclxuXHRcdGdldFJlc3Q6ZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCgnL3Jlc3RhcGkvbG9naW4nKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5tYWluJylcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJyxmdW5jdGlvbigkc2NvcGUsICRyb3V0ZSwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sIG1haW5EYXRhLCAkcGFyc2Upe1xyXG5cdCRzY29wZS5wYWdlTmFtZSA9IG1haW5EYXRhLnBhZ2VOYW1lO1xyXG5cdCRzY29wZS5teUlucHV0VmFsID0gXCIxMTFcIjtcclxuLy9cdCRzY29wZS5kYXRlID0gcmVzdERhdGEuZGF0YS5kYXRlO1xyXG4vL1x0Y29uc29sZS5kZWJ1ZyhyZXN0RGF0YSk7XHJcblx0JHNjb3BlLnVwZGF0ZVZhbCA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgdGV4dCA9IFwiJ2l0IGlzIG15IHRlc3QhdGhlIHJlc3VsdCBpczonICsgbXlJbnB1dFZhbFwiO1xyXG5cdFx0dmFyIGlucHV0RnVjID0gJHBhcnNlKHRleHQpO1xyXG5cdFx0JHNjb3BlLm15SW5wdXRWYWxSZXMgPSBpbnB1dEZ1Yygkc2NvcGUpO1xyXG5cdH1cclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLnVzZXInKVxyXG4uY29udHJvbGxlcigndXNlckN0cmwnLGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgdXNlckRhdGEpe1xyXG5cdCRzY29wZS5wYWdlTmFtZSA9IHVzZXJEYXRhLnBhZ2VOYW1lO1xyXG5cdCRzY29wZS51c2VySWQgPSAkcm91dGVQYXJhbXMudXNlcklkO1xyXG5cdCRzY29wZS5mb28gPSBcInBsZWFzZSBpbnB1dCFcIjtcclxufSk7Il19
