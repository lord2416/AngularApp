angular.module("myApp",["ngRoute","angularTrix","angularify.semantic.dropdown","ui.tinymce","myApp.common","myApp.main","myApp.user"]).config(["$routeProvider","$locationProvider","$httpProvider",function(e,t,r){r.defaults.headers.get||(r.defaults.headers.get={}),r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r.defaults.headers.get["Cache-Control"]="no-cache",r.defaults.headers.get.Pragma="no-cache",e.when("/",{templateUrl:"template/testNgRoute-main.html",controller:"mainCtrl",resolve:{mainData:["testService",function(e){return e.getMain().then(function(e){return e.data}).catch(function(e){return e.data})}]}}).when("/user/:userId",{templateUrl:"template/testNgRoute-user.html",controller:"userCtrl",resolve:{userData:["testService",function(e){return e.getUser().then(function(e){return e.data})}]},reloadOnSearch:!1}).when("/tinymice",{templateUrl:"template/tinymice.html",controller:"tinymiceCtrl",reloadOnSearch:!1}).when("/dropdown",{templateUrl:"template/dropdown.html",controller:"TestDropDownCtrl",reloadOnSearch:!1}).otherwise({redirectTo:"/"}),t.html5Mode(!1),t.hashPrefix(""),r.interceptors.push("httpInterceptor"),console.log("the angular app is start!")}]).run(["$rootScope","$templateCache",function(e,t){e.loading=!1,e.$on("$routeChangeStart",function(e,r,o){void 0!==o&&t.remove(o.templateUrl)}),e.$on("$routeUpdate",function(e,t,r){console.log(e),console.log(t),console.log(r)})}]),angular.element(document).ready(function(){angular.bootstrap(document,["myApp"])});
angular.module("myApp.common",[]),angular.module("myApp.main",["myApp.main.tinymice","myApp.main.dropdown"]),angular.module("myApp.main.tinymice",["myApp.common","ui.tinymce"]),angular.module("myApp.main.dropdown",["myApp.common","angularify.semantic.dropdown"]),angular.module("myApp.user",["myApp.common"]);
angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(e,t,n,i,r,o,u){return o=o||{},o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(c,a,s,d){function f(e){e?(m(),v&&v.getBody().setAttribute("contenteditable",!1)):(m(),v&&!v.settings.readonly&&v.getDoc()&&v.getBody().setAttribute("contenteditable",!0))}function m(){v||(v=tinymce.get(s.id))}if(i.tinymce){var l,v,$=d[0],g=d[1]||null,y={debounce:!0},b=function(t){var n=t.getContent({format:y.format}).trim();n=r.trustAsHtml(n),$.$setViewValue(n),e.$$phase||c.$digest()},p=u.getUniqueId();s.$set("id",p),l={},angular.extend(l,c.$eval(s.uiTinymce));var h=function(e){var t;return function(e){n.cancel(t),t=n(function(){return function(e){e.isDirty()&&(e.save(),b(e))}(e)},400)}}(),U={setup:function(t){t.on("init",function(){$.$render(),$.$setPristine(),$.$setUntouched(),g&&g.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){if(!y.debounce)return t.save(),void b(t);h(t)}),t.on("blur",function(){a[0].blur(),$.$setTouched(),e.$$phase||c.$digest()}),t.on("remove",function(){a.remove()}),o.setup&&o.setup(t,{updateView:b}),l.setup&&l.setup(t,{updateView:b})},format:l.format||"html",selector:"#"+s.id};angular.extend(y,o,l,U),n(function(){y.baseURL&&(tinymce.baseURL=y.baseURL);var e=tinymce.init(y);e&&"function"==typeof e.then?e.then(function(){f(c.$eval(s.ngDisabled))}):f(c.$eval(s.ngDisabled))}),$.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),$.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),$.$render=function(){m();var e=$.$viewValue?r.getTrustedHtml($.$viewValue):"";v&&v.getDoc()&&(v.setContent(e),v.fire("change"))},s.$observe("disabled",f);var T=c.$on("$tinymce:refresh",function(e,n){var i=s.id;if(angular.isUndefined(n)||n===i){var r=a.parent(),o=a.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(t(o)(c)),T()}});c.$on("$destroy",function(){m(),v&&(v.remove(),v=null)})}}}}]).service("uiTinymceService",[function(){return new function(){var e=0;return{getUniqueId:function(){return"ui-tinymce-"+ ++e}}}}]);
angular.module("myApp.common").directive("myInputParse",function(){return{restrict:"EA",priority:-1,require:"?ngModel",link:function(e,t,n,i){i&&(console.log("myInputParse"),i.$parsers.push(function(e){var t=/^\d+\.?\d{0,2}$/,n=t.test(e),r=e.substring(0,e.length-1);return n?e:(i.$setViewValue(r),i.$render(),r)}))}}}).directive("companyEmailValidator",function(){var e=/^(?=.{1,254}$)(?=.{1,254}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;return{restrict:"EA",priority:-1,require:"?ngModel",link:function(t,n,i,r){r&&r.$validators.email&&(r.$validators.email=function(t,n){var i=t||n;return r.$isEmpty(i)||e.test(i)})}}}).directive("retainDecimal",function(){var e=/^\d+$/,t=/^\d+(\.)?\d{0,1}$/,n=/^\d+(\.)?\d{0,2}$/;return{restrict:"A",require:"?ngModel",link:function(i,r,a,o){o.$parsers.push(function(i){var r,d,s=a.retainDecimal,l=i.substring(0,i.length-1),c=i.charAt(i.length-1);switch(s){case"1":r=t.test(i),d=".0";break;case"2":r=n.test(i),d=".00";break;default:r=e.test(i),d=""}return r?"."==c?(o.$setViewValue(l+d),o.$render(),l+d):i:(o.$setViewValue(l),o.$render(),l)})}}}).directive("searchSelect",["$sce",function(e){return{restrict:"EA",replace:!0,transclude:!0,require:"?ngModel",scope:{options:"=",name:"@"},template:'<div class="ui fluid search selection dropdown upward">\t\t\t\t<input type="hidden" name="{{name}}" ng-model="selectedValue">\t\t\t\t<i class="dropdown icon"></i>\t\t\t\t<div class="default text" ng-bind="selectedValue"></div>\t\t\t  \t<div class="menu transition hidden">\t\t\t    \t<div class="item" data-index="{{option.index}}" data-value="{{option.index}}" ng-repeat = "option in options" ng-bind="option.item"></div>\t\t\t  \t</div>\t\t\t</div>',link:function(e,t,n,i){t.dropdown({fullTextSearch:!0,onChange:function(t,n,r){e.$apply(function(){i.$setViewValue(t)})}}),i.$render=function(){console.log("it is $render"),t.dropdown("set selected","3")},n.$observe("ngModel",function(e){console.log(e)})}}}]);
angular.module("myApp.common").factory("httpInterceptor",["$sce","$rootScope","$timeout",function(n,e,t){var o,r;return{request:function(n){return o=(new Date).getTime(),e.loading=!0,n},response:function(n){return r=(new Date).getTime(),e.$evalAsync(function(){r-o>500?e.loading=!1:t(function(){e.loading=!1},500)}),n}}}]);
angular.module("myApp.common").factory("testService",["$http","$q",function(t,e){return{getMain:function(){return t.get("mock/testNgRoute-main.json")},getUser:function(){return t.get("user/1")},getRest:function(){return t.get("/restapi/login")}}}]);
angular.module("myApp.main.dropdown").controller("TestDropDownCtrl",["$scope","$route","$routeParams","$location","$sce",function(o,e,t,m,i){o.dropdown_model="item3",o.dropdown_repeat_model="item1",o.dropdown_items=["item1","item2","item3","item4"],o.dropdown_key_value_model="",o.dropdown_key_value_items={item1:"Cool item 1",item2:"Cool item 2",item3:"Cool item 3",item4:"Cool item 4"}}]);
angular.module("myApp.main").controller("mainCtrl",["$scope","$route","$routeParams","$location","mainData","$parse",function(e,t,i,n,s,a){e.pageName=s.pageName,e.myInputVal1="111",e.myInputVal2="",e.myInputVal3="",e.myInputVal4="",e.selectVal="",e.parentOptions=[{item:"Arabic Chinese",select:!0,index:1},{item:"Chinese ",select:!1,index:2},{item:"Dutch",select:!1,index:3},{item:"English",select:!1,index:4},{item:"French",select:!1,index:5},{item:"German",select:!1,index:6},{item:"Greek",select:!1,index:7},{item:"Hungarian",select:!1,index:8},{item:"Italian",select:!1,index:9},{item:"Japanese",select:!1,index:10},{item:"Korean",select:!1,index:11},{item:"Lithuanian",select:!1,index:12},{item:"Persian",select:!1,index:13},{item:"Polish",select:!1,index:14},{item:"Portuguese",select:!1,index:15},{item:"Russian",select:!1,index:16},{item:"Spanish",select:!1,index:17},{item:"Swedish",select:!1,index:18},{item:"Turkish",select:!1,index:19},{item:"Vietnamese",select:!1,index:20}],e.updateVal=function(){var t=a("'it is my test!the result is:' + myInputVal1");e.myInputValRes=t(e)}}]);
angular.module("myApp.main.tinymice").controller("tinymiceCtrl",["$scope","$route","$routeParams","$location","$sce",function(t,i,e,n,a){var l=this;t.setting={inline:!1,plugins:"advlist autolink lists link image charmap print preview anchor",readonly:"view"===t.operate,skin:"lightgray",theme:"modern",min_height:200,max_height:500},this.updateHtml=function(){l.tinymceHtml=a.trustAsHtml(l.tinymce)}}]);
angular.module("myApp.user").controller("userCtrl",["$scope","$route","$routeParams","$location","userData",function(e,o,t,a,s){e.pageName=s.pageName,e.userId=t.userId,e.foo="please input!";var l=this;console.log(this),console.log(l),this.update=function(){console.log("this update")},this.delete=function(){console.log("this update")},e.exportFile=function(){var o=e.type;e.searchFieldsData}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1vZHVsZS5qcyIsImRpcmVjdGl2ZS9hbmd1bGFyLXRpbnltY2UuanMiLCJkaXJlY3RpdmUvaW5wdXREaXJlLmpzIiwic2VydmljZS9pbnRlckNlcHRvclNlcnYuanMiLCJzZXJ2aWNlL3Rlc3RTZXJ2LmpzIiwiY29udHJvbGxlci9tYWluL2Ryb3Bkb3duQ3RybC5qcyIsImNvbnRyb2xsZXIvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRyb2xsZXIvbWFpbi90aW55bWljZUN0cmwuanMiLCJjb250cm9sbGVyL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJnZXQiLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwibWFpbkRhdGEiLCJ0ZXN0U2VydmljZSIsImdldE1haW4iLCJ0aGVuIiwicmVzIiwidXNlckRhdGEiLCJnZXRVc2VyIiwiZGF0YSIsInJlbG9hZE9uU2VhcmNoIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsIiRsb2NhdGlvblByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIiRyb290U2NvcGUiLCIkb24iLCJldmVudCIsIm5leHQiLCJjdXJyZW50IiwibG9nIiwiZWxlbWVudCIsImRvY3VtZW50IiwicmVhZHkiLCJib290c3RyYXAiLCJ2YWx1ZSIsImRpcmVjdGl2ZSIsInVpVGlueW1jZUNvbmZpZyIsImJhc2VVcmwiLCJ0aW55bWNlIiwiYmFzZVVSTCIsImRpc2FibGVkIiwiZW5zdXJlSW5zdGFuY2UiLCJ0aW55SW5zdGFuY2UiLCJzZXR0aW5ncyIsInJlYWRvbmx5IiwiZ2V0RG9jIiwiZ2V0Qm9keSIsInNldEF0dHJpYnV0ZSIsIiR3aW5kb3ciLCJleHByZXNzaW9uIiwibmdNb2RlbCIsImN0cmxzIiwiZm9ybSIsIm9wdGlvbnMiLCJkZWJvdW5jZSIsInVwZGF0ZVZpZXciLCJlZGl0b3IiLCJjb250ZW50IiwiZ2V0Q29udGVudCIsImZvcm1hdCIsInRyaW0iLCIkc2V0Vmlld1ZhbHVlIiwiJCRwaGFzZSIsInNjb3BlIiwiJGRpZ2VzdCIsImRlYm91bmNlZFVwZGF0ZSIsImRlYm91bmNlZFVwZGF0ZURlbGF5IiwiZWQiLCJkZWJvdW5jZWRVcGRhdGVUaW1lciIsIiR0aW1lb3V0Iiwic2F2ZSIsIiRyZW5kZXIiLCIkc2V0UHJpc3RpbmUiLCJvbiIsInNldHVwIiwibWF5YmVJbml0UHJvbWlzZSIsImluaXQiLCJ0b2dnbGVEaXNhYmxlIiwiJGV2YWwiLCJhdHRycyIsIm5nRGlzYWJsZWQiLCJ2aWV3VmFsdWUiLCIkdmlld1ZhbHVlIiwiJHNjZSIsImdldFRydXN0ZWRIdG1sIiwic2V0Q29udGVudCIsImZpcmUiLCJpc1VuZGVmaW5lZCIsImlkIiwiZWlkIiwicGFyZW50RWxlbWVudCIsInBhcmVudCIsImNsb25lZEVsZW1lbnQiLCJyZW1vdmVBdHRyIiwiYXBwZW5kIiwiJGNvbXBpbGUiLCJ1bmJpbmRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZ2V0VW5pcXVlSWQiLCJJRF9BVFRSIiwicmVzdHJpY3QiLCJwcmlvcml0eSIsInJlcXVpcmUiLCJsaW5rIiwiJHNjb3BlIiwiJGVsZW0iLCIkYXR0cnMiLCJuZ01vZGVsQ3RybCIsImNvbnNvbGUiLCIkcGFyc2VycyIsIlZBTElEX1JFR0VYUCIsImlzVmFsaWQiLCJ0ZXN0IiwibGFzdFZhbCIsInN1YnN0cmluZyIsImxlbmd0aCIsIiR2YWxpZGF0b3JzIiwiZW1haWwiLCJtb2RlbFZhbHVlIiwiJGlzRW1wdHkiLCJFTUFJTF9SRUdFWFAiLCJzdHIiLCJyZXRhaW5EZWNpbWFsIiwibGFzdENoYXIiLCJjaGFyQXQiLCJST1VORFVQXzFfUkVHRVhQIiwiUk9VTkRVUF8yX1JFR0VYUCIsIlJPVU5EVVBfMF9SRUdFWFAiLCJyZXBsYWNlIiwibmFtZSIsInRlbXBsYXRlIiwiZHJvcGRvd24iLCJmdWxsVGV4dFNlYXJjaCIsIm9uQ2hhbmdlIiwidGV4dCIsIiRzZWxlY3RlZEl0ZW0iLCIkYXBwbHkiLCJmYWN0b3J5Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInJlcXVlc3QiLCJyZXEiLCJsb2FkaW5nIiwicmVzcG9uc2UiLCJEYXRlIiwiZ2V0VGltZSIsIiRldmFsQXN5bmMiLCIkaHR0cCIsIiRxIiwiJHJvdXRlIiwiJHJvdXRlUGFyYW1zIiwiJGxvY2F0aW9uIiwiZHJvcGRvd25fbW9kZWwiLCJkcm9wZG93bl9yZXBlYXRfbW9kZWwiLCJkcm9wZG93bl9pdGVtcyIsImRyb3Bkb3duX2tleV92YWx1ZV9tb2RlbCIsImRyb3Bkb3duX2tleV92YWx1ZV9pdGVtcyIsIml0ZW0xIiwiaXRlbTQiLCJteUlucHV0VmFsMSIsIm15SW5wdXRWYWwyIiwibXlJbnB1dFZhbDMiLCJteUlucHV0VmFsNCIsInNlbGVjdFZhbCIsInBhcmVudE9wdGlvbnMiLCJpdGVtIiwic2VsZWN0IiwiaW5kZXgiLCJjdHJsIiwidGhpcyIsInNldHRpbmciLCJpbmxpbmUiLCJwbHVnaW5zIiwic2tpbiIsInRoZW1lIiwibWF4X2hlaWdodCIsInBhZ2VOYW1lIiwidXNlcklkIiwiZm9vIiwidHlwZSIsInNlYXJjaEZpZWxkc0RhdGEiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRQyxPQUFPLFNBQ2QsVUFDQSxjQUNBLCtCQUNBLGFBQ0EsZUFDQSxhQUNBLGVBQ0VDLHlCQUVGLDZFQUtBQyxFQUFjQyxTQUFTQyxRQUFRQywwSEFLL0JILEVBQUFDLFNBQUFDLFFBQUFDLElBQUEsT0FBQSxXQUVDQyxFQUFZQyxLQUFBLEtBQ1pDLFlBQVcsaUNBQ1hDLFdBQVEsV0FDUEMsU0FDQ0MsVUFDQyxjQUNFLFNBQU1DLEdBQ0QsTUFBSUEsR0FBQUMsVUFBQUMsS0FBQSxTQUFBQyw0SkFZVEMsVUFDTCxjQUNBLFNBQVdKLEdBQ0gsTUFBQUEsR0FBQUssVUFBQUgsS0FBQSxTQUFBQyxHQUNQLE1BQUFBLEdBQUFHLDhCQU1EWCxLQUFB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QSw2RkFFREMsS0FBSyxZQUNIQyxNQUFLLHdCQUVSQyxXQUFBO0FDZkhsTCxRQUFRQyxPQUFPLGNBQUFTLFdBQUEsWUFDZCxTQUNBLFNBQ0EsZUFDQSxZQUNBLFdBQ0EsU0FBUWlHLEVBQUk2QyxFQUFBQyxFQUFBQyxFQUFBekksR0FDWjBGLEVBQVF3RSxTQUFJbEssRUFBQWtLLFNBQ1p4RSxFQUFLeUUsT0FBUzNCLEVBQVUyQixPQUN2QnpFLEVBQVEwRSxJQUFJLDBCQUVidEUsU0FBSy9FLElBQVM0SSxNQUNiN0QsUUFBUS9FLElBQUkySSwwQkFFYjVELFFBQU8vRSxJQUFBLDJGQWtESixHQUFBc0osR0FBQTNFLEVBQUEyRSxJQUFBM0UsR0FBQTRFIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLFtcclxuXHQnbmdSb3V0ZScsXHJcblx0J2FuZ3VsYXJUcml4JyxcclxuXHQnYW5ndWxhcmlmeS5zZW1hbnRpYy5kcm9wZG93bicsXHJcblx0J3VpLnRpbnltY2UnLFxyXG5cdCdteUFwcC5jb21tb24nLFxyXG5cdCdteUFwcC5tYWluJyxcclxuXHQnbXlBcHAudXNlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJGh0dHBQcm92aWRlcil7XHJcbiAgICAvL0luaXRpYWxpemUgR2V0IFJlcXVlc3RcclxuXHRpZighJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCl7XHJcblx0ICAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0ge307XHJcblx0fVxyXG5cclxuXHQvL0Rpc2FibGUgSUUgQWpheCBSZXF1ZXN0IENhY2hlXHJcblx0JGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddID0gJ1hNTEh0dHBSZXF1ZXN0JztcclxuXHQkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0WydDYWNoZS1Db250cm9sJ10gPSAnbm8tY2FjaGUnO1xyXG5cdCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5nZXRbJ1ByYWdtYSddID0gJ25vLWNhY2hlJztcclxuXHRcclxuXHQvL3JvdXRlIHNldHRpbmdcclxuXHQkcm91dGVQcm92aWRlclxyXG5cdC53aGVuKCcvJyx7XHJcblx0XHR0ZW1wbGF0ZVVybDondGVtcGxhdGUvdGVzdE5nUm91dGUtbWFpbi5odG1sJyxcclxuXHRcdGNvbnRyb2xsZXI6J21haW5DdHJsJyxcclxuXHRcdHJlc29sdmU6e1xyXG5cdFx0XHRtYWluRGF0YTpmdW5jdGlvbih0ZXN0U2VydmljZSl7XHJcblx0XHRcdFx0cmV0dXJuIHRlc3RTZXJ2aWNlLmdldE1haW4oKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRcdHJldHVybiBlcnIuZGF0YTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG4vL1x0XHRcdHJlc3REYXRhOmZ1bmN0aW9uKHRlc3RTZXJ2aWNlKXtcclxuLy9cdFx0XHRcdHJldHVybiB0ZXN0U2VydmljZS5nZXRSZXN0KCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG4vL1x0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcbi8vXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG4vL1x0XHRcdFx0XHRyZXR1cm4gZXJyLmRhdGE7XHJcbi8vXHRcdFx0XHR9KTtcclxuLy9cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxuXHQud2hlbignL3VzZXIvOnVzZXJJZCcse1xyXG5cdFx0dGVtcGxhdGVVcmw6J3RlbXBsYXRlL3Rlc3ROZ1JvdXRlLXVzZXIuaHRtbCcsXHJcblx0XHRjb250cm9sbGVyOid1c2VyQ3RybCcsXHJcblx0XHRyZXNvbHZlOntcclxuXHRcdFx0dXNlckRhdGE6ZnVuY3Rpb24odGVzdFNlcnZpY2Upe1xyXG5cdFx0XHRcdHJldHVybiB0ZXN0U2VydmljZS5nZXRVc2VyKCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0cmVsb2FkT25TZWFyY2g6ZmFsc2VcclxuXHR9KVxyXG5cdC53aGVuKCcvdGlueW1pY2UnLHtcclxuXHRcdHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90aW55bWljZS5odG1sJyxcclxuXHRcdGNvbnRyb2xsZXI6J3RpbnltaWNlQ3RybCcsXHJcblx0XHRyZWxvYWRPblNlYXJjaDpmYWxzZVxyXG5cdH0pXHJcblx0LndoZW4oJy9kcm9wZG93bicse1xyXG5cdFx0dGVtcGxhdGVVcmw6J3RlbXBsYXRlL2Ryb3Bkb3duLmh0bWwnLFxyXG5cdFx0Y29udHJvbGxlcjonVGVzdERyb3BEb3duQ3RybCcsXHJcblx0XHRyZWxvYWRPblNlYXJjaDpmYWxzZVxyXG5cdH0pXHJcblx0Lm90aGVyd2lzZSh7XHJcblx0XHRyZWRpcmVjdFRvOicvJ1xyXG5cdH0pO1xyXG5cdFxyXG5cdC8vaHRtbDUgbW9kZSBzZXR0aW5nXHJcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKGZhbHNlKTtcclxuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcclxuXHJcblx0Ly9JbnRlcmNlcHRvclxyXG5cdCRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2h0dHBJbnRlcmNlcHRvcicpO1xyXG5cdGNvbnNvbGUubG9nKCd0aGUgYW5ndWxhciBhcHAgaXMgc3RhcnQhJyk7XHJcbn0pXHJcbi5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwkdGVtcGxhdGVDYWNoZSl7XHJcblx0JHJvb3RTY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCkgeyAgXHJcbiAgICAgICAgaWYgKHR5cGVvZihjdXJyZW50KSAhPT0gJ3VuZGVmaW5lZCcpeyAgXHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnJlbW92ZShjdXJyZW50LnRlbXBsYXRlVXJsKTsgIFxyXG4gICAgICAgIH0gIFxyXG4gICAgfSk7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlVXBkYXRlJyxmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCl7XHJcbiAgICBcdGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgIFx0Y29uc29sZS5sb2cobmV4dCk7XHJcbiAgICBcdGNvbnNvbGUubG9nKGN1cnJlbnQpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LFsnbXlBcHAnXSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbXlBcHAuY29tbW9uJyxbXSk7XHJcbmFuZ3VsYXIubW9kdWxlKCdteUFwcC5tYWluJyxbJ215QXBwLm1haW4udGlueW1pY2UnLCdteUFwcC5tYWluLmRyb3Bkb3duJ10pO1xyXG5hbmd1bGFyLm1vZHVsZSgnbXlBcHAubWFpbi50aW55bWljZScsWydteUFwcC5jb21tb24nLCd1aS50aW55bWNlJ10pO1xyXG5hbmd1bGFyLm1vZHVsZSgnbXlBcHAubWFpbi5kcm9wZG93bicsWydteUFwcC5jb21tb24nLCdhbmd1bGFyaWZ5LnNlbWFudGljLmRyb3Bkb3duJ10pO1xyXG5hbmd1bGFyLm1vZHVsZSgnbXlBcHAudXNlcicsWydteUFwcC5jb21tb24nXSk7IiwiLyoqXHJcbiAqIEJpbmRzIGEgVGlueU1DRSB3aWRnZXQgdG8gPHRleHRhcmVhPiBlbGVtZW50cy5cclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS50aW55bWNlJywgW10pXHJcbiAgLnZhbHVlKCd1aVRpbnltY2VDb25maWcnLCB7fSlcclxuICAuZGlyZWN0aXZlKCd1aVRpbnltY2UnLCBbJyRyb290U2NvcGUnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICckc2NlJywgJ3VpVGlueW1jZUNvbmZpZycsICd1aVRpbnltY2VTZXJ2aWNlJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICR0aW1lb3V0LCAkd2luZG93LCAkc2NlLCB1aVRpbnltY2VDb25maWcsIHVpVGlueW1jZVNlcnZpY2UpIHtcclxuICAgIHVpVGlueW1jZUNvbmZpZyA9IHVpVGlueW1jZUNvbmZpZyB8fCB7fTtcclxuXHJcbiAgICBpZiAodWlUaW55bWNlQ29uZmlnLmJhc2VVcmwpIHtcclxuICAgICAgdGlueW1jZS5iYXNlVVJMID0gdWlUaW55bWNlQ29uZmlnLmJhc2VVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybSddLFxyXG4gICAgICBwcmlvcml0eTogNTk5LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgaWYgKCEkd2luZG93LnRpbnltY2UpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBuZ01vZGVsID0gY3RybHNbMF0sXHJcbiAgICAgICAgICBmb3JtID0gY3RybHNbMV0gfHwgbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGV4cHJlc3Npb24sIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBkZWJvdW5jZTogdHJ1ZVxyXG4gICAgICAgIH0sIHRpbnlJbnN0YW5jZSxcclxuICAgICAgICAgIHVwZGF0ZVZpZXcgPSBmdW5jdGlvbihlZGl0b3IpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlZGl0b3IuZ2V0Q29udGVudCh7Zm9ybWF0OiBvcHRpb25zLmZvcm1hdH0pLnRyaW0oKTtcclxuICAgICAgICAgICAgY29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoY29udGVudCk7XHJcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlKGRpc2FibGVkKSB7XHJcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0Qm9keSgpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJiAhdGlueUluc3RhbmNlLnNldHRpbmdzLnJlYWRvbmx5ICYmIHRpbnlJbnN0YW5jZS5nZXREb2MoKSkge1xyXG4gICAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXRCb2R5KCkuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmV0Y2ggYSB1bmlxdWUgSUQgZnJvbSB0aGUgc2VydmljZVxyXG4gICAgICAgIHZhciB1bmlxdWVJZCA9IHVpVGlueW1jZVNlcnZpY2UuZ2V0VW5pcXVlSWQoKTtcclxuICAgICAgICBhdHRycy4kc2V0KCdpZCcsIHVuaXF1ZUlkKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IHt9O1xyXG5cclxuICAgICAgICBhbmd1bGFyLmV4dGVuZChleHByZXNzaW9uLCBzY29wZS4kZXZhbChhdHRycy51aVRpbnltY2UpKTtcclxuXHJcbiAgICAgICAgLy9EZWJvdW5jZSB1cGRhdGUgYW5kIHNhdmUgYWN0aW9uXHJcbiAgICAgICAgdmFyIGRlYm91bmNlZFVwZGF0ZSA9IChmdW5jdGlvbihkZWJvdW5jZWRVcGRhdGVEZWxheSkge1xyXG4gICAgICAgICAgdmFyIGRlYm91bmNlZFVwZGF0ZVRpbWVyO1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVkKSB7XHJcblx0ICAgICAgICAkdGltZW91dC5jYW5jZWwoZGVib3VuY2VkVXBkYXRlVGltZXIpO1xyXG5cdCAgICAgICAgIGRlYm91bmNlZFVwZGF0ZVRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIChmdW5jdGlvbihlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkLmlzRGlydHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICBlZC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pKGVkKTtcclxuICAgICAgICAgICAgfSwgZGVib3VuY2VkVXBkYXRlRGVsYXkpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KSg0MDApO1xyXG5cclxuICAgICAgICB2YXIgc2V0dXBPcHRpb25zID0ge1xyXG4gICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIHdoZW4gY2FsbGluZyBzZXRDb250ZW50XHJcbiAgICAgICAgICAvLyAoc3VjaCBhcyBmcm9tIHRoZSBzb3VyY2UgZWRpdG9yIHBvcHVwKVxyXG4gICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKGVkKSB7XHJcbiAgICAgICAgICAgIGVkLm9uKCdpbml0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgICAgICAgICAgIG5nTW9kZWwuJHNldFVudG91Y2hlZCgpO1xyXG4gICAgICAgICAgICAgIGlmIChmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgd2hlbjpcclxuICAgICAgICAgICAgLy8gLSBhIGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkIFtFeGVjQ29tbWFuZF1cclxuICAgICAgICAgICAgLy8gLSB0aGUgZWRpdG9yIGNvbnRlbnQgaGFzIGJlZW4gbW9kaWZpZWQgW2NoYW5nZV1cclxuICAgICAgICAgICAgLy8gLSB0aGUgbm9kZSBoYXMgY2hhbmdlZCBbTm9kZUNoYW5nZV1cclxuICAgICAgICAgICAgLy8gLSBhbiBvYmplY3QgaGFzIGJlZW4gcmVzaXplZCAodGFibGUsIGltYWdlKSBbT2JqZWN0UmVzaXplZF1cclxuICAgICAgICAgICAgZWQub24oJ0V4ZWNDb21tYW5kIGNoYW5nZSBOb2RlQ2hhbmdlIE9iamVjdFJlc2l6ZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGVib3VuY2UpIHtcclxuICAgICAgICAgICAgICAgIGVkLnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xyXG4gICAgICAgICAgICAgIFx0cmV0dXJuO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBkZWJvdW5jZWRVcGRhdGUoZWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVkLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZWxlbWVudFswXS5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VG91Y2hlZCgpO1xyXG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVkLm9uKCdyZW1vdmUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1aVRpbnltY2VDb25maWcuc2V0dXApIHtcclxuICAgICAgICAgICAgICB1aVRpbnltY2VDb25maWcuc2V0dXAoZWQsIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXc6IHVwZGF0ZVZpZXdcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24uc2V0dXApIHtcclxuICAgICAgICAgICAgICBleHByZXNzaW9uLnNldHVwKGVkLCB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3OiB1cGRhdGVWaWV3XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmb3JtYXQ6IGV4cHJlc3Npb24uZm9ybWF0IHx8ICdodG1sJyxcclxuICAgICAgICAgIHNlbGVjdG9yOiAnIycgKyBhdHRycy5pZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gZXh0ZW5kIG9wdGlvbnMgd2l0aCBpbml0aWFsIHVpVGlueW1jZUNvbmZpZyBhbmRcclxuICAgICAgICAvLyBvcHRpb25zIGZyb20gZGlyZWN0aXZlIGF0dHJpYnV0ZSB2YWx1ZVxyXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIHVpVGlueW1jZUNvbmZpZywgZXhwcmVzc2lvbiwgc2V0dXBPcHRpb25zKTtcclxuICAgICAgICAvLyBXcmFwcGVkIGluICR0aW1lb3V0IGR1ZSB0byAkdGlueW1jZTpyZWZyZXNoIGltcGxlbWVudGF0aW9uLCByZXF1aXJlc1xyXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgcHJlc2VudCBpbiBET00gYmVmb3JlIGluc3RhbnRpYXRpbmcgZWRpdG9yIHdoZW5cclxuICAgICAgICAvLyByZS1yZW5kZXJpbmcgZGlyZWN0aXZlXHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9ucy5iYXNlVVJMKXtcclxuICAgICAgICAgICAgdGlueW1jZS5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIG1heWJlSW5pdFByb21pc2UgPSB0aW55bWNlLmluaXQob3B0aW9ucyk7XHJcbiAgICAgICAgICBpZihtYXliZUluaXRQcm9taXNlICYmIHR5cGVvZiBtYXliZUluaXRQcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgbWF5YmVJbml0UHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHRvZ2dsZURpc2FibGUoc2NvcGUuJGV2YWwoYXR0cnMubmdEaXNhYmxlZCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZURpc2FibGUoc2NvcGUuJGV2YWwoYXR0cnMubmdEaXNhYmxlZCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPyAkc2NlLnRydXN0QXNIdG1sKG1vZGVsVmFsdWUpIDogJyc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbih2aWV3VmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiB2aWV3VmFsdWUgPyAkc2NlLmdldFRydXN0ZWRIdG1sKHZpZXdWYWx1ZSkgOiAnJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICAgIHZhciB2aWV3VmFsdWUgPSBuZ01vZGVsLiR2aWV3VmFsdWUgP1xyXG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSkgOiAnJztcclxuXHJcbiAgICAgICAgICAvLyBpbnN0YW5jZS5nZXREb2MoKSBjaGVjayBpcyBhIGd1YXJkIGFnYWluc3QgbnVsbCB2YWx1ZVxyXG4gICAgICAgICAgLy8gd2hlbiBkZXN0cnVjdGlvbiAmIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzIGhhcHBlblxyXG4gICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0RG9jKClcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB0aW55SW5zdGFuY2Uuc2V0Q29udGVudCh2aWV3VmFsdWUpO1xyXG4gICAgICAgICAgICAvLyBUcmlnZ2VyaW5nIGNoYW5nZSBldmVudCBkdWUgdG8gVGlueU1DRSBub3QgZmlyaW5nIGV2ZW50ICZcclxuICAgICAgICAgICAgLy8gYmVjb21pbmcgb3V0IG9mIHN5bmMgZm9yIGNoYW5nZSBjYWxsYmFja3NcclxuICAgICAgICAgICAgdGlueUluc3RhbmNlLmZpcmUoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdkaXNhYmxlZCcsIHRvZ2dsZURpc2FibGUpO1xyXG5cclxuICAgICAgICAvLyBUaGlzIGJsb2NrIGlzIGJlY2F1c2Ugb2YgVGlueU1DRSBub3QgcGxheWluZyB3ZWxsIHdpdGggcmVtb3ZhbCBhbmRcclxuICAgICAgICAvLyByZWNyZWF0aW9uIG9mIGluc3RhbmNlcywgcmVxdWlyaW5nIGluc3RhbmNlcyB0byBoYXZlIGRpZmZlcmVudFxyXG4gICAgICAgIC8vIHNlbGVjdG9ycyBpbiBvcmRlciB0byByZW5kZXIgbmV3IGluc3RhbmNlcyBwcm9wZXJseVxyXG4gICAgICAgIHZhciB1bmJpbmRFdmVudExpc3RlbmVyID0gc2NvcGUuJG9uKCckdGlueW1jZTpyZWZyZXNoJywgZnVuY3Rpb24oZSwgaWQpIHtcclxuICAgICAgICAgIHZhciBlaWQgPSBhdHRycy5pZDtcclxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGlkKSB8fCBpZCA9PT0gZWlkKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNsb25lZEVsZW1lbnQucmVtb3ZlQXR0cignaWQnKTtcclxuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRpbnltY2UuZXhlY0NvbW1hbmQoJ21jZVJlbW92ZUVkaXRvcicsIGZhbHNlLCBlaWQpO1xyXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZCgkY29tcGlsZShjbG9uZWRFbGVtZW50KShzY29wZSkpO1xyXG4gICAgICAgICAgICB1bmJpbmRFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XHJcblxyXG4gICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aW55SW5zdGFuY2UucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVuc3VyZUluc3RhbmNlKCkge1xyXG4gICAgICAgICAgaWYgKCF0aW55SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGlueUluc3RhbmNlID0gdGlueW1jZS5nZXQoYXR0cnMuaWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XSlcclxuICAuc2VydmljZSgndWlUaW55bWNlU2VydmljZScsIFtcclxuICAgIC8qKlxyXG4gICAgICogQSBzZXJ2aWNlIGlzIHVzZWQgdG8gY3JlYXRlIHVuaXF1ZSBJRCdzLCB0aGlzIHByZXZlbnRzIGR1cGxpY2F0ZSBJRCdzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBlZGl0b3JzIG9uIHNjcmVlbi5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBVSVRpbnltY2VTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XHJcbiAgIFx0ICAgIHZhciBJRF9BVFRSID0gJ3VpLXRpbnltY2UnO1xyXG4gICAgXHQvLyB1bmlxdWVJZCBrZWVwcyB0cmFjayBvZiB0aGUgbGF0ZXN0IGFzc2lnbmVkIElEXHJcbiAgICBcdHZhciB1bmlxdWVJZCA9IDA7XHJcbiAgICAgICAgLy8gZ2V0VW5pcXVlSWQgcmV0dXJucyBhIHVuaXF1ZSBJRFxyXG4gICAgXHR2YXIgZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHVuaXF1ZUlkICsrO1xyXG4gICAgICAgICAgcmV0dXJuIElEX0FUVFIgKyAnLScgKyB1bmlxdWVJZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHJldHVybiB0aGUgZnVuY3Rpb24gYXMgYSBwdWJsaWMgbWV0aG9kIG9mIHRoZSBzZXJ2aWNlXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICBcdGdldFVuaXF1ZUlkOiBnZXRVbmlxdWVJZFxyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIC8vIHJldHVybiBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgc2VydmljZVxyXG4gICAgICByZXR1cm4gbmV3IFVJVGlueW1jZVNlcnZpY2UoKTtcclxuICAgIH1cclxuICBdKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLmNvbW1vbicpXHJcbi5kaXJlY3RpdmUoJ215SW5wdXRQYXJzZScsZnVuY3Rpb24oKXtcclxuXHRyZXR1cm57XHJcblx0XHRyZXN0cmljdDpcIkVBXCIsXHJcblx0XHRwcmlvcml0eTotMSxcclxuXHRcdHJlcXVpcmU6Jz9uZ01vZGVsJyxcclxuXHRcdGxpbms6ZnVuY3Rpb24oJHNjb3BlLCAkZWxlbSwgJGF0dHJzLCBuZ01vZGVsQ3RybCl7XHJcblx0XHRcdGlmKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnbXlJbnB1dFBhcnNlJyk7XHJcblx0XHRcdG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe1xyXG4vL1x0XHRcdFx0dmFyIFZBTElEX1JFR0VYUCA9IC9eXFx3KyQvLFxyXG5cdFx0XHRcdHZhciBWQUxJRF9SRUdFWFAgPSAvXlxcZCtcXC4/XFxkezAsMn0kLyxcclxuXHRcdFx0IFx0aXNWYWxpZCA9IFZBTElEX1JFR0VYUC50ZXN0KHZhbHVlKSxcclxuXHRcdFx0ICAgIGxhc3RWYWwgPSB2YWx1ZS5zdWJzdHJpbmcoMCx2YWx1ZS5sZW5ndGgtMSk7XHJcblx0XHRcdCAgICBcclxuXHRcdFx0XHRpZihpc1ZhbGlkKXtcclxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobGFzdFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGxhc3RWYWw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbi5kaXJlY3RpdmUoJ2NvbXBhbnlFbWFpbFZhbGlkYXRvcicsZnVuY3Rpb24oKXtcclxuLypjaGFuZ2UgZW1haWwgdmFsaWRhdG9yIHJ1bGVzOlVwIHRvIDI1NCBjaGFyYWN0ZXIgYmVmb3JlICdAJyovXHJcblx0dmFyIEVNQUlMX1JFR0VYUCA9IC9eKD89LnsxLDI1NH0kKSg/PS57MSwyNTR9QClbLSEjJCUmJyorLzAtOT0/QS1aXl9gYS16e3x9fl0rKFxcLlstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvO1xyXG5cdHJldHVybntcclxuXHRcdHJlc3RyaWN0OlwiRUFcIixcclxuXHRcdHByaW9yaXR5Oi0xLFxyXG5cdFx0cmVxdWlyZTonP25nTW9kZWwnLFxyXG5cdFx0bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW0sJGF0dHJzLG5nTW9kZWxDdHJsKXtcclxuXHRcdFx0aWYobmdNb2RlbEN0cmwgJiYgbmdNb2RlbEN0cmwuJHZhbGlkYXRvcnMuZW1haWwpe1xyXG5cdFx0XHRcdG5nTW9kZWxDdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcblx0XHQgICAgXHRcdHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xyXG5cdFx0ICAgIFx0XHRyZXR1cm4gbmdNb2RlbEN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdCBcdFx0IH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbi5kaXJlY3RpdmUoJ3JldGFpbkRlY2ltYWwnLGZ1bmN0aW9uKCl7XHJcblx0dmFyIFJPVU5EVVBfMF9SRUdFWFAgPSAvXlxcZCskLyxcdFxyXG5cdFx0Uk9VTkRVUF8xX1JFR0VYUCA9IC9eXFxkKyhcXC4pP1xcZHswLDF9JC8sXHJcblx0XHRST1VORFVQXzJfUkVHRVhQID0gL15cXGQrKFxcLik/XFxkezAsMn0kLyxcclxuXHRcdHJldGFpbkNvbmZpZyA9IHtcclxuXHRcdFx0cmVzdHJpY3Q6XCJBXCIsXHJcblx0XHRcdHJlcXVpcmU6Jz9uZ01vZGVsJyxcclxuXHRcdFx0bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW0sJGF0dHJzLG5nTW9kZWxDdHJsKXtcclxuXHRcdFx0XHRuZ01vZGVsQ3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtcclxuXHRcdFx0XHRcdHZhciByZXRhaW5EZWNpbWFsID0gJGF0dHJzLnJldGFpbkRlY2ltYWwsXHJcblx0XHRcdFx0XHRcdGxhc3RWYWwgPSB2YWx1ZS5zdWJzdHJpbmcoMCx2YWx1ZS5sZW5ndGgtMSksXHJcblx0XHRcdFx0XHRcdGxhc3RDaGFyID0gdmFsdWUuY2hhckF0KHZhbHVlLmxlbmd0aC0xKSxcclxuXHRcdFx0XHRcdFx0aXNWYWxpZCxzdHI7XHJcblx0XHRcdFx0XHRzd2l0Y2gocmV0YWluRGVjaW1hbCl7XHJcblx0XHRcdFx0XHRcdGNhc2UgXCIxXCI6XHJcblx0XHRcdFx0XHRcdFx0aXNWYWxpZCA9IFJPVU5EVVBfMV9SRUdFWFAudGVzdCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0c3RyID0gJy4wJztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSBcIjJcIjpcclxuXHRcdFx0XHRcdFx0XHRpc1ZhbGlkID0gUk9VTkRVUF8yX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRzdHIgPSAnLjAwJztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHRpc1ZhbGlkID0gUk9VTkRVUF8wX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRzdHIgPSAnJztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cdFx0XHQgICAgXHJcblx0XHRcdFx0XHRpZihpc1ZhbGlkKXtcclxuXHRcdFx0XHRcdFx0aWYobGFzdENoYXIgPT0gJy4nKXtcclxuXHRcdFx0XHRcdFx0XHRuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGxhc3RWYWwrc3RyKTtcclxuXHQgICAgICAgICAgICAgICAgICAgIFx0bmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBsYXN0VmFsK3N0cjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShsYXN0VmFsKTtcclxuXHQgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGxhc3RWYWw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0cmV0dXJuIHJldGFpbkNvbmZpZztcclxufSlcclxuLmRpcmVjdGl2ZSgnc2VhcmNoU2VsZWN0JyxmdW5jdGlvbigkc2NlKXtcclxuXHRyZXR1cm57XHJcblx0XHRyZXN0cmljdDpcIkVBXCIsXHJcblx0XHRyZXBsYWNlOnRydWUsXHJcblx0XHR0cmFuc2NsdWRlOiB0cnVlLFxyXG5cdFx0cmVxdWlyZTonP25nTW9kZWwnLFxyXG5cdFx0c2NvcGU6e1xyXG5cdFx0XHRvcHRpb25zOic9JyxcclxuXHRcdFx0bmFtZTonQCdcclxuXHRcdH0sXHJcblx0XHR0ZW1wbGF0ZTpcdFxyXG5cdFx0XHQnPGRpdiBjbGFzcz1cInVpIGZsdWlkIHNlYXJjaCBzZWxlY3Rpb24gZHJvcGRvd24gdXB3YXJkXCI+XFxcclxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJ7e25hbWV9fVwiIG5nLW1vZGVsPVwic2VsZWN0ZWRWYWx1ZVwiPlxcXHJcblx0XHRcdFx0PGkgY2xhc3M9XCJkcm9wZG93biBpY29uXCI+PC9pPlxcXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImRlZmF1bHQgdGV4dFwiIG5nLWJpbmQ9XCJzZWxlY3RlZFZhbHVlXCI+PC9kaXY+XFxcclxuXHRcdFx0ICBcdDxkaXYgY2xhc3M9XCJtZW51IHRyYW5zaXRpb24gaGlkZGVuXCI+XFxcclxuXHRcdFx0ICAgIFx0PGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWluZGV4PVwie3tvcHRpb24uaW5kZXh9fVwiIGRhdGEtdmFsdWU9XCJ7e29wdGlvbi5pbmRleH19XCIgbmctcmVwZWF0ID0gXCJvcHRpb24gaW4gb3B0aW9uc1wiIG5nLWJpbmQ9XCJvcHRpb24uaXRlbVwiPjwvZGl2PlxcXHJcblx0XHRcdCAgXHQ8L2Rpdj5cXFxyXG5cdFx0XHQ8L2Rpdj4nLFxyXG5cdFx0bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW0sJGF0dHJzLG5nTW9kZWwpe1xyXG5cdFx0XHQkZWxlbS5kcm9wZG93bih7XHJcblx0XHRcdFx0ZnVsbFRleHRTZWFyY2g6dHJ1ZSxcclxuXHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24odmFsdWUsIHRleHQsICRzZWxlY3RlZEl0ZW0pIHtcclxuXHRcdFx0XHRcdCRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0bmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHQgICAgfVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0bmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnaXQgaXMgJHJlbmRlcicpO1xyXG5cdFx0XHRcdCRlbGVtLmRyb3Bkb3duKCdzZXQgc2VsZWN0ZWQnLFwiM1wiKTtcclxuXHRcdFx0fTtcclxuLy9cdFx0XHQkZWxlbS5kcm9wZG93bignc2V0IHNlbGVjdGVkJyxcIjNcIik7XHJcblx0XHRcdCRhdHRycy4kb2JzZXJ2ZSgnbmdNb2RlbCcsZnVuY3Rpb24odmFsKXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyh2YWwpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5jb21tb24nKVxyXG4uZmFjdG9yeSgnaHR0cEludGVyY2VwdG9yJyxmdW5jdGlvbigkc2NlLCRyb290U2NvcGUsJHRpbWVvdXQpe1xyXG5cdHZhciBzdGFydFRpbWUsZW5kVGltZTtcclxuXHRyZXR1cm57XHJcblx0XHQncmVxdWVzdCc6ZnVuY3Rpb24ocmVxKXtcclxuXHRcdFx0c3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdCRyb290U2NvcGUubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHJldHVybiByZXE7XHJcblx0XHR9LFxyXG5cdFx0J3Jlc3BvbnNlJzpmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRlbmRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpe1xyXG5cdFx0XHRcdHZhciBsb2FkaW5nVGltZSA9IGVuZFRpbWUtc3RhcnRUaW1lO1xyXG5cdFx0XHRcdGlmKGxvYWRpbmdUaW1lID4gNTAwKXtcclxuXHRcdFx0XHRcdCRyb290U2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9LDUwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdH1cclxuXHR9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC5jb21tb24nKVxyXG4uZmFjdG9yeSgndGVzdFNlcnZpY2UnLGZ1bmN0aW9uKCRodHRwLCRxKXtcclxuXHRyZXR1cm57XHJcblx0XHRnZXRNYWluOmZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJ21vY2svdGVzdE5nUm91dGUtbWFpbi5qc29uJyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0VXNlcjpmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyByZXR1cm4gJGh0dHAuZ2V0KCdtb2NrL3Rlc3ROZ1JvdXRlLXVzZXIuanNvbicpO1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCd1c2VyLzEnKTtcclxuXHRcdH0sXHJcblx0XHRnZXRSZXN0OmZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9yZXN0YXBpL2xvZ2luJyk7XHJcblx0XHR9XHJcblx0fVxyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnbXlBcHAubWFpbi5kcm9wZG93bicpXHJcbi5jb250cm9sbGVyKCdUZXN0RHJvcERvd25DdHJsJyxmdW5jdGlvbigkc2NvcGUsICRyb3V0ZSwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sICRzY2Upe1xyXG4gICAgJHNjb3BlLmRyb3Bkb3duX21vZGVsID0gJ2l0ZW0zJztcclxuXHJcbiAgICAkc2NvcGUuZHJvcGRvd25fcmVwZWF0X21vZGVsID0gJ2l0ZW0xJztcclxuICAgICRzY29wZS5kcm9wZG93bl9pdGVtcyA9IFtcclxuICAgICAgJ2l0ZW0xJyxcclxuICAgICAgJ2l0ZW0yJyxcclxuICAgICAgJ2l0ZW0zJyxcclxuICAgICAgJ2l0ZW00J1xyXG4gICAgXTtcclxuXHJcbiAgICAkc2NvcGUuZHJvcGRvd25fa2V5X3ZhbHVlX21vZGVsID0gJyc7XHJcbiAgICAkc2NvcGUuZHJvcGRvd25fa2V5X3ZhbHVlX2l0ZW1zID0ge1xyXG4gICAgICAnaXRlbTEnOiAnQ29vbCBpdGVtIDEnLFxyXG4gICAgICAnaXRlbTInOiAnQ29vbCBpdGVtIDInLFxyXG4gICAgICAnaXRlbTMnOiAnQ29vbCBpdGVtIDMnLFxyXG4gICAgICAnaXRlbTQnOiAnQ29vbCBpdGVtIDQnXHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLm1haW4nKVxyXG4uY29udHJvbGxlcignbWFpbkN0cmwnLGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgbWFpbkRhdGEsICRwYXJzZSl7XHJcblx0JHNjb3BlLnBhZ2VOYW1lID0gbWFpbkRhdGEucGFnZU5hbWU7XHJcblx0JHNjb3BlLm15SW5wdXRWYWwxID0gXCIxMTFcIjtcclxuXHQkc2NvcGUubXlJbnB1dFZhbDIgPSBcIlwiO1xyXG5cdCRzY29wZS5teUlucHV0VmFsMyA9IFwiXCI7XHJcblx0JHNjb3BlLm15SW5wdXRWYWw0ID0gXCJcIjtcclxuLy9cdCRzY29wZS5kYXRlID0gcmVzdERhdGEuZGF0YS5kYXRlO1xyXG4vL1x0Y29uc29sZS5kZWJ1ZyhyZXN0RGF0YSk7XHJcblx0JHNjb3BlLnNlbGVjdFZhbCA9IFwiXCI7XHJcblx0JHNjb3BlLnBhcmVudE9wdGlvbnMgPSBbXHJcblx0XHR7aXRlbTpcIkFyYWJpYyBDaGluZXNlXCIsc2VsZWN0OnRydWUsaW5kZXg6MX0sXHJcblx0XHR7aXRlbTpcIkNoaW5lc2UgXCIsc2VsZWN0OmZhbHNlLGluZGV4OjJ9LFxyXG5cdFx0e2l0ZW06XCJEdXRjaFwiLHNlbGVjdDpmYWxzZSxpbmRleDozfSxcclxuXHRcdHtpdGVtOlwiRW5nbGlzaFwiLHNlbGVjdDpmYWxzZSxpbmRleDo0fSxcclxuXHRcdHtpdGVtOlwiRnJlbmNoXCIsc2VsZWN0OmZhbHNlLGluZGV4OjV9LFxyXG5cdFx0e2l0ZW06XCJHZXJtYW5cIixzZWxlY3Q6ZmFsc2UsaW5kZXg6Nn0sXHJcblx0XHR7aXRlbTpcIkdyZWVrXCIsc2VsZWN0OmZhbHNlLGluZGV4Ojd9LFxyXG5cdFx0e2l0ZW06XCJIdW5nYXJpYW5cIixzZWxlY3Q6ZmFsc2UsaW5kZXg6OH0sXHJcblx0XHR7aXRlbTpcIkl0YWxpYW5cIixzZWxlY3Q6ZmFsc2UsaW5kZXg6OX0sXHJcblx0XHR7aXRlbTpcIkphcGFuZXNlXCIsc2VsZWN0OmZhbHNlLGluZGV4OjEwfSxcclxuXHRcdHtpdGVtOlwiS29yZWFuXCIsc2VsZWN0OmZhbHNlLGluZGV4OjExfSxcclxuXHRcdHtpdGVtOlwiTGl0aHVhbmlhblwiLHNlbGVjdDpmYWxzZSxpbmRleDoxMn0sXHJcblx0XHR7aXRlbTpcIlBlcnNpYW5cIixzZWxlY3Q6ZmFsc2UsaW5kZXg6MTN9LFxyXG5cdFx0e2l0ZW06XCJQb2xpc2hcIixzZWxlY3Q6ZmFsc2UsaW5kZXg6MTR9LFxyXG5cdFx0e2l0ZW06XCJQb3J0dWd1ZXNlXCIsc2VsZWN0OmZhbHNlLGluZGV4OjE1fSxcclxuXHRcdHtpdGVtOlwiUnVzc2lhblwiLHNlbGVjdDpmYWxzZSxpbmRleDoxNn0sXHJcblx0XHR7aXRlbTpcIlNwYW5pc2hcIixzZWxlY3Q6ZmFsc2UsaW5kZXg6MTd9LFxyXG5cdFx0e2l0ZW06XCJTd2VkaXNoXCIsc2VsZWN0OmZhbHNlLGluZGV4OjE4fSxcclxuXHRcdHtpdGVtOlwiVHVya2lzaFwiLHNlbGVjdDpmYWxzZSxpbmRleDoxOX0sXHJcblx0XHR7aXRlbTpcIlZpZXRuYW1lc2VcIixzZWxlY3Q6ZmFsc2UsaW5kZXg6MjB9XHJcblx0XTtcclxuXHQkc2NvcGUudXBkYXRlVmFsID0gZnVuY3Rpb24oKXtcclxuXHRcdHZhciB0ZXh0ID0gXCInaXQgaXMgbXkgdGVzdCF0aGUgcmVzdWx0IGlzOicgKyBteUlucHV0VmFsMVwiO1xyXG5cdFx0dmFyIGlucHV0RnVjID0gJHBhcnNlKHRleHQpO1xyXG5cdFx0JHNjb3BlLm15SW5wdXRWYWxSZXMgPSBpbnB1dEZ1Yygkc2NvcGUpO1xyXG5cdH1cclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ215QXBwLm1haW4udGlueW1pY2UnKVxyXG4uY29udHJvbGxlcigndGlueW1pY2VDdHJsJyxmdW5jdGlvbigkc2NvcGUsICRyb3V0ZSwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sICRzY2Upe1xyXG4gICB2YXIgY3RybCA9IHRoaXM7XHJcblx0JHNjb3BlLnNldHRpbmcgPSB7XHJcblx0XHRpbmxpbmU6IGZhbHNlLFxyXG5cdCAgXHRwbHVnaW5zOiBcImFkdmxpc3QgYXV0b2xpbmsgbGlzdHMgbGluayBpbWFnZSBjaGFybWFwIHByaW50IHByZXZpZXcgYW5jaG9yXCIsXHJcbiAgIFx0XHRyZWFkb25seSA6ICRzY29wZS5vcGVyYXRlID09PSAndmlldycgPyB0cnVlIDogZmFsc2UsXHJcblx0ICAgIHNraW46ICdsaWdodGdyYXknLFxyXG4gICAgXHR0aGVtZSA6ICdtb2Rlcm4nLFxyXG4gICAgXHRtaW5faGVpZ2h0OiAyMDAsXHJcbiAgICBcdG1heF9oZWlnaHQ6IDUwMFxyXG5cdH07XHJcbiAgICB0aGlzLnVwZGF0ZUh0bWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgY3RybC50aW55bWNlSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoY3RybC50aW55bWNlKTtcclxuICAgIH07XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdteUFwcC51c2VyJylcclxuLmNvbnRyb2xsZXIoJ3VzZXJDdHJsJyxmdW5jdGlvbigkc2NvcGUsICRyb3V0ZSwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sIHVzZXJEYXRhKXtcclxuXHQkc2NvcGUucGFnZU5hbWUgPSB1c2VyRGF0YS5wYWdlTmFtZTtcclxuXHQkc2NvcGUudXNlcklkID0gJHJvdXRlUGFyYW1zLnVzZXJJZDtcclxuXHQkc2NvcGUuZm9vID0gXCJwbGVhc2UgaW5wdXQhXCI7XHJcblx0dmFyIGN0cmwgPSB0aGlzO1xyXG5cdGNvbnNvbGUubG9nKHRoaXMpO1xyXG5cdGNvbnNvbGUubG9nKGN0cmwpO1xyXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKXtcclxuXHRcdGNvbnNvbGUubG9nKCd0aGlzIHVwZGF0ZScpO1xyXG5cdH07XHJcblx0dGhpcy5kZWxldGUgPSBmdW5jdGlvbigpe1xyXG5cdFx0Y29uc29sZS5sb2coJ3RoaXMgdXBkYXRlJyk7XHJcblx0fTtcclxuXHQkc2NvcGUuZXhwb3J0RmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuLy9cdFx0aWYoJHNjb3BlLnR5cGUgPT0gXCJvcmRlclJlcG9ydHNcIil7XHJcbi8vXHRcdFx0dmFyIGNyaXRlcmlhID0gJHNjb3BlLnNlYXJjaEZpZWxkc0RhdGE7XHJcbi8vXHRcdFx0aWYoY3JpdGVyaWEpe1xyXG4vL1x0XHRcdFx0dmFyIHBhcmFtcyA9IHtcclxuLy9cdFx0XHRcdFx0c2VhcmNoOiAne1wiY3JpdGVyaWFcIjonKyBhbmd1bGFyLnRvSnNvbihjcml0ZXJpYSkgKyAnfSdcclxuLy9cdFx0XHRcdH07XHJcbi8vXHRcdFx0XHRjb21tb25TZXJ2LmV4cG9ydFJlc3VsdFdpdGhQYXJhbXMocnBzLmNvbW1vblVybCArICdvcmRlclJlcG9ydCcgKyBycHMuZG93bmxvYWQsIHBhcmFtcywgXCJPcmRlclJlcG9ydHMuY3N2XCIpO1xyXG4vL1x0XHRcdH1lbHNle1xyXG4vL1x0XHRcdFx0Y29tbW9uU2Vydi5leHBvcnRSZXN1bHQocnBzLmNvbW1vblVybCArICdvcmRlclJlcG9ydCcgKyBycHMuZG93bmxvYWQsIG51bGwsIFwiT3JkZXJSZXBvcnRzLmNzdlwiKTtcclxuLy9cdFx0XHR9XHJcbi8vXHRcdH1lbHNlIGlmKCRzY29wZS50eXBlID09IFwib3JkZXJJdGVtUmVwb3J0c1wiKXtcclxuLy9cdFx0XHRjb21tb25TZXJ2LmV4cG9ydFJlc3VsdChycHMuY29tbW9uVXJsICsgJ29yZGVySXRlbVJlcG9ydCcgKyBycHMuZG93bmxvYWQsIG51bGwsIFwiSXRlbVJlcG9ydHMuY3N2XCIpO1xyXG4vL1x0XHR9ZWxzZSBpZigkc2NvcGUudHlwZSA9PSBcImF1ZGl0c1wiKXtcclxuLy9cdFx0XHR2YXIgY3JpdGVyaWEgPSAkc2NvcGUuc2VhcmNoRmllbGRzRGF0YTtcclxuLy9cdFx0XHRpZihjcml0ZXJpYSl7XHJcbi8vXHRcdFx0XHQvLyB2YXIgc2VhcmNoRmllbGRzID0geydjcml0ZXJpYSc6IGNyaXRlcmlhfTtcclxuLy9cdFx0XHRcdC8vIGNvbW1vblNlcnYuZXhwb3J0UmVzdWx0KHJwcy5jb21tb25VcmwgKyAnYXVkaXRzJyArIHJwcy5kb3dubG9hZCArIFwiP3NlYXJjaD1cIiArIGFuZ3VsYXIudG9Kc29uKHNlYXJjaEZpZWxkcyksIG51bGwsIFwiQXVkaXRMb2dzLmNzdlwiKTtcclxuLy9cclxuLy9cdFx0XHRcdCRodHRwKHtcclxuLy9cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuLy9cdFx0XHRcdFx0dXJsOiBycHMuY29tbW9uVXJsICsgJ2F1ZGl0cycgKyBycHMuZG93bmxvYWQsXHJcbi8vXHRcdFx0XHRcdHBhcmFtczoge1xyXG4vL1x0XHRcdFx0XHRcdHNlYXJjaDogJ3tcImNyaXRlcmlhXCI6JysgYW5ndWxhci50b0pzb24oY3JpdGVyaWEpICsgJ30nXHJcbi8vXHRcdFx0XHRcdH1cclxuLy9cdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbi8vXHRcdFx0XHRcdHZhciBibG9iID0gbmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdLCB7XHJcbi8vXHRcdFx0XHRcdFx0dHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTgnXHJcbi8vXHRcdFx0XHRcdH0pO1xyXG4vL1x0XHRcdFx0XHR2YXIgZmlsZU5hbWUgPSBcIlwiO1xyXG4vL1x0XHRcdFx0XHR0cnkge1xyXG4vL1x0XHRcdFx0XHRcdGZpbGVOYW1lID0gbmV3IFJlZ0V4cCgnZmlsZW5hbWU9XCIoLispXCInLCAnaWcnKS5leGVjKHJlc3BvbnNlLmhlYWRlcnMoKVsnY29udGVudC1kaXNwb3NpdGlvbiddKVsxXTtcclxuLy9cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG4vL1x0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGUpO1xyXG4vL1x0XHRcdFx0XHRcdGZpbGVOYW1lID0gXCJBdWRpdExvZ3MuY3N2XCI7XHJcbi8vXHRcdFx0XHRcdH1cclxuLy9cdFx0XHRcdFx0c2F2ZUFzKGJsb2IsIGZpbGVOYW1lKTtcclxuLy9cdFx0XHRcdH0pO1xyXG4vL1xyXG4vL1x0XHRcdH1lbHNle1xyXG4vL1x0XHRcdFx0Y29tbW9uU2Vydi5leHBvcnRSZXN1bHQocnBzLmNvbW1vblVybCArICdhdWRpdHMnICsgcnBzLmRvd25sb2FkLCBudWxsLCBcIkF1ZGl0TG9ncy5jc3ZcIik7XHJcbi8vXHRcdFx0fVxyXG4vL1x0XHR9ZWxzZXtcclxuLy9cdFx0XHRjb21tb25TZXJ2LmV4cG9ydFJlc3VsdChycHMuY29tbW9uVXJsICsgJHNjb3BlLnR5cGUgKyBycHMuZXhwb3J0LCBudWxsLCBcInRlbXBsYXRlLmNzdlwiKTtcclxuLy9cdFx0fVxyXG5cdFx0dmFyIHR5cGUgPSAkc2NvcGUudHlwZSxcclxuXHRcdFx0Y3JpdGVyaWEgPSAkc2NvcGUuc2VhcmNoRmllbGRzRGF0YTtcclxuXHRcdFx0XHJcblx0XHRzd2l0Y2godHlwZSl7XHJcblx0XHRcdGNhc2UgJyc6XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fTtcclxufSk7Il19
